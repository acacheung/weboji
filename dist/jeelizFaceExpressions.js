 /**
 * Jeeliz Weboji - https://github.com/jeeliz/jeelizWeboji
 *
 * Copyright 2018 Jeeliz ( https://jeeliz.com )
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
*/

var JEELIZFACEEXPRESSIONS=(function(){function ba(){this.va=!1;this.$=null;this.yd=void 0;this.Z=1;this.vc=this.Md=0;this.ra=null}function ea(a){if(a.va)throw new TypeError("Generator is already running");a.va=!0}ba.prototype.wa=function(a){this.yd=a};ba.prototype.ya=function(a){this.ra={Zd:a,we:!0};this.Z=this.Md||this.vc};ba.prototype.return=function(a){this.ra={return:a};this.Z=this.vc};function ka(a){this.o=new ba;this.Le=a}ka.prototype.wa=function(a){ea(this.o);if(this.o.$)return oa(this,this.o.$.next,a,this.o.wa);this.o.wa(a);return ra(this)};
function ta(a,c){ea(a.o);var d=a.o.$;if(d)return oa(a,"return"in d?d["return"]:function(h){return{value:h,done:!0}},c,a.o.return);a.o.return(c);return ra(a)}ka.prototype.ya=function(a){ea(this.o);if(this.o.$)return oa(this,this.o.$["throw"],a,this.o.wa);this.o.ya(a);return ra(this)};
function oa(a,c,d,h){try{var r=c.call(a.o.$,d);if(!(r instanceof Object))throw new TypeError("Iterator result "+r+" is not an object");if(!r.done)return a.o.va=!1,r;var n=r.value}catch(l){return a.o.$=null,a.o.ya(l),ra(a)}a.o.$=null;h.call(a.o,n);return ra(a)}
function ra(a){for(;a.o.Z;)try{var c=a.Le(a.o);if(c)return a.o.va=!1,{value:c.value,done:!1}}catch(d){a.o.yd=void 0,a.o.ya(d)}a.o.va=!1;if(a.o.ra){c=a.o.ra;a.o.ra=null;if(c.we)throw c.Zd;return{value:c.return,done:!0}}return{value:void 0,done:!0}}function ua(a){this.next=function(c){return a.wa(c)};this.throw=function(c){return a.ya(c)};this.return=function(c){return ta(a,c)};this[Symbol.iterator]=function(){return this}}
function Aa(a){function c(h){return a.next(h)}function d(h){return a.throw(h)}return new Promise(function(h,r){function n(l){l.done?h(l.value):Promise.resolve(l.value).then(c,d).then(n,r)}n(a.next())})}function Ca(a){var c=new XMLHttpRequest;c.open("GET",b.bc+b.neuralNetworkPath,!0);c.withCredentials=!1;c.onreadystatechange=function(){4!==c.readyState||200!==c.status&&0!==c.status||a(c.responseText)};c.send()}function Da(){for(var a=b.Uc,c=Array(a),d=0;d<a;++d)c[d]=0;return c}
function Ha(a,c){if(0===c||"object"!==typeof a)return a;a=Object.assign({},a);c=void 0===c||-1===c?-1:c-1;for(var d in a)a[d]=Ha(a[d],c);return a}function Ia(a,c,d){return Math.min(Math.max((d-a)/(c-a),0),1)}
function Ja(a){switch(a){case "relu":return"gl_FragColor=max(vec4(0.,0.,0.,0.),gl_FragColor);";case "elu":return"gl_FragColor=mix(exp(-abs(gl_FragColor))-vec4(1.,1.,1.,1.),gl_FragColor,step(0.,gl_FragColor));";case "elu01":return"gl_FragColor=mix(0.1*exp(-abs(gl_FragColor))-vec4(0.1,0.1,0.1,0.1),gl_FragColor,step(0.,gl_FragColor));";case "arctan":return"gl_FragColor=atan(3.14159265359*texture2D(u0,vUV))/3.14159265359;";case "copy":return"";default:return!1}}
function Na(a,c){var d=c%8;return a[(c-d)/8]>>7-d&1}
function Oa(a){var c=JSON.parse(a);a=c.ne;var d=c.nf,h=c.n;var r="undefined"===typeof btoa?Buffer.from(c.data,"base64").toString("latin1"):atob(c.data);var n=r.length;c=new Uint8Array(n);for(var l=0;l<n;++l)c[l]=r.charCodeAt(l);r=new Float32Array(h);n=new Float32Array(d);l=a+d+1;for(var t=0;t<h;++t){for(var f=l*t,u=0===Na(c,f)?1:-1,z=f+1,p=1,m=0,y=z+a-1;y>=z;--y)m+=p*Na(c,y),p*=2;z=m;f=f+1+a;p=n.length;m=0;for(y=f;y<f+p;++y)n[m]=Na(c,y),++m;for(p=f=0;p<d;++p)f+=n[p]*Math.pow(2,-p-1);r[t]=0===f&&0===
z?0:u*(1+f)*Math.pow(2,1+z-Math.pow(2,a-1))}return r}
var G=function(){function a(v,q,C){q=v.createShader(q);v.shaderSource(q,C);v.compileShader(q);return v.getShaderParameter(q,v.COMPILE_STATUS)?q:!1}function c(v,q,C){q=a(v,v.VERTEX_SHADER,q);C=a(v,v.FRAGMENT_SHADER,C);v===D&&l.push(q,C);var N=v.createProgram();v.attachShader(N,q);v.attachShader(N,C);v.linkProgram(N);return N}function d(v,q){q.B=q.B?!0:!1;if(!q.B){void 0===q.za&&(q.za="precision lowp float;attribute vec2 a0;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=a0*.5+vec2(.5,.5);}");void 0===
q.Da&&(q.Da=["a0"]);void 0===q.sa&&(q.sa=[2]);if(void 0===q.precision||"highp"===q.precision)q.precision=p;q.id=u++;void 0!==q.md&&(q.md.forEach(function(N,Q){q.h=q.h.replace(N,q.Ya[Q])}),q.md.splice(0));q.ac=0;q.sa.forEach(function(N){q.ac+=4*N});q.ea=c(v,q.za,"precision "+q.precision+" float;\n"+q.h);q.v={};q.i.forEach(function(N){q.v[N]=v.getUniformLocation(q.ea,N)});q.attributes={};q.ta=[];q.Da.forEach(function(N){var Q=v.getAttribLocation(q.ea,N);q.attributes[N]=Q;q.ta.push(Q)});if(q.j){v.useProgram(q.ea);
f=q;t=q.id;for(var C in q.j)v.uniform1i(q.v[C],q.j[C])}q.da=!0}}function h(v){Pa.bf(K);t!==v.id&&(K.N(),t=v.id,f=v,D.useProgram(v.ea),v.ta.forEach(function(q){0!==q&&D.enableVertexAttribArray(q)}))}function r(v,q,C){d(v,q,C);v.useProgram(q.ea);v.enableVertexAttribArray(0);t=-1;return f=q}function n(){return{h:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:["u1"],j:{u1:0}}}var l=[],t=-1,f=null,u=0,z=!1,p="highp",m=["u1"],y=["u0"],w={u1:0},g={u0:0},k={u1:0,u2:1},
I={u3:0},M={s0:n(),s1:{h:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:m,j:w,precision:"lowp"},s2:{h:"uniform sampler2D u1,u2;varying vec2 vv0;void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a*b;}",i:["u1","u2"],j:k},s3:{h:"uniform sampler2D u1;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a.r*f;}",i:m,j:w},s4:{h:"uniform sampler2D u1,u2;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a.a*b.r*f;}",
i:["u1","u2"],j:k},s5:{h:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(1.-vv0.x,vv0.y));}",i:m,j:w},s6:{h:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(vv0.x,1.-vv0.y));}",i:m,j:w},s7:{h:"uniform sampler2D u0;uniform float u4;varying vec2 vv0;void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=a*u4;}",i:["u0","u4"],j:g},s8:{h:"uniform sampler2D u0;uniform float u4;varying vec2 vv0;const vec4 f=vec4(.25,.25,.25,.25),g=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0);float b=dot(a*u4,f);gl_FragColor=b*g;}",
i:["u0","u4"],j:g},s9:{h:"uniform sampler2D u1;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){float a=.25*dot(e,texture2D(u1,vv0));gl_FragColor=a*e;}",i:m,j:w},s10:{h:"uniform sampler2D u1,u5;uniform float u6;const vec4 f=vec4(1.,1.,1.,1.);varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0),b=texture2D(u5,vv0);gl_FragColor=mix(b,a,u6*f);}",i:["u1","u5","u6"],j:{u1:0,u5:1}},s11:{h:"uniform sampler2D u1;uniform vec2 u7;varying vec2 vv0;void main(){gl_FragColor=.25*(texture2D(u1,vv0+u7)+texture2D(u1,vv0+u7*vec2(1.,-1.))+texture2D(u1,vv0+u7*vec2(-1.,-1.))+texture2D(u1,vv0+u7*vec2(-1.,1.)));}",
i:["u1","u7"],j:w},s12:{h:"uniform sampler2D u1;uniform vec4 u8;varying vec2 vv0;float g(float a,float b){a=floor(a)+.5;return floor(a/exp2(b));}float h(float a,float b){return floor(a*exp2(b)+.5);}float i(float a,float b){return mod(a,h(1.,b));}float e(float c,float a,float b){a=floor(a+.5),b=floor(b+.5);return i(g(c,a),b-a);}vec4 j(float a){if(a==0.)return vec4(0.,0.,0.,0.);float k=128.*step(a,0.);a=abs(a);float c=floor(log2(a)),l=c+127.,b=(a/exp2(c)-1.)*8388608.,d=l/2.,m=fract(d)*2.,n=floor(d),o=e(b,0.,8.),p=e(b,8.,16.),q=m*128.+e(b,16.,23.),r=k+n;return vec4(o,p,q,r)/255.;}void main(){float a=dot(texture2D(u1,vv0),u8);gl_FragColor=j(a);}",
i:["u1","u8"],j:w},s13:{h:"uniform sampler2D u0;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=e/(e+exp(-a));gl_FragColor=b;}",i:y,j:g,B:!0},s14:{h:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(0.,0.,0.,0.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=max(f,a);}",i:y,j:g},s15:{h:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=mix(exp(-abs(a))-f,a,step(0.,a));}",i:y,j:g},
s16:{h:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=exp(-abs(a))-f;gl_FragColor=mix(.1*b,a,step(0.,a));}",i:y,j:g},s17:{h:"uniform sampler2D u0,u6,u9;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),c=texture2D(u6,vv0),d=texture2D(u9,vv0),b=a/d;gl_FragColor=c*mix(exp(-abs(b))-f,b,step(0.,a));}",i:["u0","u6","u9"],j:{u0:0,u6:1,u9:2},B:!0},s18:{h:"uniform sampler2D u0;const float e=3.141593;varying vec2 vv0;void main(){gl_FragColor=atan(e*texture2D(u0,vv0))/e;}",
i:y,j:g},s19:{h:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=log(f+a);gl_FragColor=b;}",i:y,j:g,B:!0},s20:{h:"uniform sampler2D u0,u10;uniform float u11;const vec2 e=vec2(.5,.5);const float f=1e-5;const vec4 g=vec4(1.,1.,1.,1.),i=vec4(0.,0.,0.,0.);varying vec2 vv0;void main(){vec4 a=texture2D(u10,e);float b=u11*u11;vec4 c=max(b*a,f*g);gl_FragColor=texture2D(u0,vv0)/c;}",i:["u0","u10","u11"],j:{u0:0,u10:1},B:!0},s21:{h:"uniform sampler2D u1;uniform vec2 u12;varying vec2 vv0;void main(){float a=u12.x*u12.y;vec2 b=floor(vv0*a)/a,c=fract(vv0*a),d=floor(b*u12.y),f=floor(u12.x*fract(b*u12.y)),g=(f*u12.y+d)/a;gl_FragColor=texture2D(u1,g+c/a);}",
i:["u1","u12"],j:w},s22:{h:"uniform sampler2D u13,u14,u15;varying vec2 vv0;void main(){vec4 a=texture2D(u15,vv0);vec2 b=a.rg,c=a.ba;vec4 d=texture2D(u13,b),f=texture2D(u14,c);gl_FragColor=d*f;}",i:["u13","u14","u15"],j:{u14:0,u13:1,u15:2},B:!0},s23:{h:"uniform float u16;uniform sampler2D u13,u14;varying vec2 vv0;void main(){vec2 a=fract(vv0*u16);vec4 b=texture2D(u13,vv0),c=texture2D(u14,a);gl_FragColor=b*c;}",i:["u14","u13","u16"],j:{u14:0,u13:1}},s24:{h:"uniform float u16;uniform sampler2D u13,u14,u17,u18,u19,u20;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.),g=vec4(1e-3,1e-3,1e-3,1e-3);void main(){vec2 h=vv0*u16,l=floor(h),c=h-l;vec4 m=texture2D(u13,vv0),d=texture2D(u14,c),a=texture2D(u20,vv0);a=a*255.;vec4 n=texture2D(u17,c),o=texture2D(u18,c),p=texture2D(u19,c),i=step(-g,-a),b=e-i,j=b*step(-e-g,-a);b*=e-j;vec4 k=b*step(-2.*e-g,-a);b*=e-k;vec4 q=b;d=i*d+j*n+k*o+q*p,gl_FragColor=m*d;}",
i:"u13 u14 u16 u20 u17 u18 u19".split(" "),j:{u14:0,u13:1,u20:3,u17:4,u18:5,u19:6},B:!0},s25:{h:"uniform sampler2D u13,u14,u21;uniform float u16,u22,u23,u24;varying vec2 vv0;const vec2 j=vec2(1.,1.);void main(){vec2 a=floor(u22*vv0),b=u22*vv0-a;float c=u16/u22;vec2 d=floor(b*c),f=b*c-d,g=(a+f)/u22;float k=u22*u24/u16;vec2 l=k*d,h=(l+f*u23)/u24,i=step(h,j);vec4 m=texture2D(u13,g),n=texture2D(u14,h),o=m*n*i.x*i.y,p=texture2D(u21,g);gl_FragColor=o*u23*u23+p;}",i:"u13 u14 u16 u22 u23 u24 u21".split(" "),
j:{u14:0,u13:1,u21:2}},s26:{h:"uniform sampler2D u13,u14;varying vec2 vv0;void main(){vec4 a=texture2D(u13,vv0),b=texture2D(u14,vv0);gl_FragColor=a*b;}",i:["u13","u14"],j:{u14:0,u13:1},B:!0},s27:{h:"uniform sampler2D u1,u21;uniform float u25;varying vec2 vv0;void main(){gl_FragColor=texture2D(u21,vv0)+u25*texture2D(u1,vv0);}",i:["u1","u21","u25"],j:{u1:0,u21:1}},s28:{h:"varying vec2 vv0;uniform sampler2D u1;const vec4 f=vec4(1.,1.,1.,1.),g=vec4(.299,.587,.114,0.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=dot(a,g)*f;}",
i:m,j:w,precision:"lowp"},s29:{h:"varying vec2 vv0;uniform sampler2D u1;uniform float u26;const vec3 f=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u26)).rgb,c=texture2D(u1,vv0+vec2(u26,u26)).rgb,d=texture2D(u1,vv0+vec2(u26,0.)).rgb;gl_FragColor=vec4(dot(a,f),dot(b,f),dot(c,f),dot(d,f));}",i:["u1","u26"],j:w,precision:"lowp"},s30:{h:"varying vec2 vv0;uniform sampler2D u1;uniform float u26;const vec3 f=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u26)).rgb,c=texture2D(u1,vv0+vec2(u26,u26)).rgb,d=texture2D(u1,vv0+vec2(u26,0.)).rgb;gl_FragColor=vec4(a.r,b.g,c.b,dot(d,f));}",
i:["u1","u26"],j:w,precision:"lowp"},s31:{h:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u27;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=vec4(0.);a-=texture2D(u1,vec2(vv0.x-u27,vv0.y-u27))*1.,a-=texture2D(u1,vec2(vv0.x-u27,vv0.y))*2.,a-=texture2D(u1,vec2(vv0.x-u27,vv0.y+u27))*1.,a+=texture2D(u1,vec2(vv0.x+u27,vv0.y-u27))*1.,a+=texture2D(u1,vec2(vv0.x+u27,vv0.y))*2.,a+=texture2D(u1,vec2(vv0.x+u27,vv0.y+u27))*1.;vec4 b=vec4(0.);b-=texture2D(u1,vec2(vv0.x-u27,vv0.y-u27))*1.,b-=texture2D(u1,vec2(vv0.x,vv0.y-u27))*2.,b-=texture2D(u1,vec2(vv0.x+u27,vv0.y-u27))*1.,b+=texture2D(u1,vec2(vv0.x-u27,vv0.y+u27))*1.,b+=texture2D(u1,vec2(vv0.x,vv0.y+u27))*2.,b+=texture2D(u1,vec2(vv0.x+u27,vv0.y+u27))*1.;vec3 c=sqrt(a.rgb*a.rgb+b.rgb*b.rgb);vec4 e=vec4(c,texture2D(u1,vv0).a),g=texture2D(u2,vv0);gl_FragColor=g.a*e.r*f;}",
i:["u1","u2","u27"],j:k,B:!0},s32:{h:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u27;const vec4 j=vec4(1.,1.,1.,1.);const vec2 k=vec2(1.,1.);void main(){float h=0.;vec2 l=k*u27,a,b;float c,d,i=0.;for(float e=-4.;e<=4.;e+=1.)for(float f=-4.;f<=4.;f+=1.)a=vec2(e,f),c=length(a)/2.,d=exp(-c*c),b=vv0+l*a,h+=d*texture2D(u1,b).r,i+=d;vec4 m=texture2D(u2,vv0);gl_FragColor=m.a*(texture2D(u1,b).r-h/i)*j;}",i:["u1","u2","u27"],j:k,B:!0},s33:{h:"uniform sampler2D u3;uniform vec2 u7;varying vec2 vv0;vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}const vec2 g=vec2(.5,.5),h=vec2(1.,0.),i=vec2(0.,1.);void main(){vec2 a=vv0-u7*g;vec4 b=texture2D(u3,a),c=texture2D(u3,a+u7*h),d=texture2D(u3,a+u7*i),j=texture2D(u3,a+u7),k=e(b,c),l=e(d,j);gl_FragColor=e(k,l);}",
i:["u3","u7"],j:I},s34:{h:"uniform sampler2D u3;uniform vec2 u7;varying vec2 vv0;const vec2 k=vec2(1.,0.),l=vec2(0.,1.),m=vec2(2.,0.),n=vec2(0.,2.);vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}vec4 f(vec2 a){vec4 b=texture2D(u3,a),c=texture2D(u3,a+u7*k),d=texture2D(u3,a+u7*l),g=texture2D(u3,a+u7),h=e(b,c),i=e(d,g);return e(h,i);}void main(){vec2 a=vv0+u7*vec2(-.55,-1.05);vec4 b=f(a),c=f(a+u7*m),d=f(a+u7*2.),g=f(a+u7*n),h=e(b,c),i=e(d,g);gl_FragColor=e(h,i);}",i:["u3","u7"],j:I,B:!0},
s35:{h:"uniform sampler2D u1;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a*a;}",i:["u1"],j:w,precision:"lowp",B:!0},s36:{h:"uniform sampler2D u1;uniform vec2 u7;varying vec2 vv0;const float e=15444.;void main(){vec4 a=1001./e*texture2D(u1,vv0-3.*u7)+2002./e*texture2D(u1,vv0-2.*u7)+3003./e*texture2D(u1,vv0-u7)+3432./e*texture2D(u1,vv0)+3003./e*texture2D(u1,vv0+u7)+2002./e*texture2D(u1,vv0+2.*u7)+1001./e*texture2D(u1,vv0+3.*u7);gl_FragColor=a;}",i:["u7","u1"],j:w,precision:"lowp",
B:!0},s37:{h:"uniform sampler2D u1,u10,u28;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);const float g=.1;void main(){vec4 a=texture2D(u10,vv0),b=texture2D(u28,vv0),c=texture2D(u1,vv0),d=max(f*g,b-a*a),h=sqrt(d);gl_FragColor=(c-a)/h;}",i:["u1","u10","u28"],j:{u1:0,u10:1,u28:2},B:!0}},E={s38:{h:"uniform float u16,u29;uniform sampler2D u13,u14,u21;varying vec2 vv0;const vec2 ZERO2=vec2(0.,0.),ONE2=vec2(1.,1.),HALF2=vec2(.5,.5),EPS2=vec2(1e-5,1e-5);void main(){vec4 sum=texture2D(u21,vv0);float toSparsity=1.1111;vec2 uvFrom,uvWeight,xyPatch=ZERO2,eps2=EPS2/u16,xyTo=floor(vv0*u16+eps2);float weightSize=toSparsity*u16;vec2 halfFromSparsity=ONE2*(toSparsity-1.)/2.;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.)xyPatch.y=patch_y,uvFrom=(xyTo+HALF2+u29*(xyPatch-halfFromSparsity))/u16,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),uvWeight=(xyTo*toSparsity+xyPatch+HALF2)/weightSize,sum+=texture2D(u13,uvWeight)*texture2D(u14,uvFrom);}gl_FragColor=sum,gl_FragColor*=2.2222;}",
i:["u16","u13","u14","u21","u29"],Ya:["1.1111","gl_FragColor\\*=2.2222;"]},s39:{h:"uniform float u16,u29,u24;uniform sampler2D u13,u14,u21;varying vec2 vv0;const vec2 ZERO2=vec2(0.,0.),ONE2=vec2(1.,1.),HALF2=vec2(.5,.5),EPS2=vec2(1e-4,1e-4);void main(){vec4 sum=texture2D(u21,vv0);float fromSparsity=1.1111,shrinkFactor=3.3333;vec2 uvFrom,uvWeight,xyFrom,xyPatchTo,xyPatch=ZERO2,xyShrink=ZERO2,eps2=EPS2/u24,xyTo=floor(vv0*u16+eps2);float weightSize=fromSparsity*u24;vec2 halfFromSparsity=ONE2*(fromSparsity-1.)/2.;float toSparsity=weightSize/u16;vec2 xyFrom0=xyTo*shrinkFactor;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.){xyPatch.y=patch_y;for(float shrink_x=0.;shrink_x<3.3333;shrink_x+=1.){xyShrink.x=shrink_x;for(float shrink_y=0.;shrink_y<3.3333;shrink_y+=1.)xyShrink.y=shrink_y,xyFrom=xyFrom0+xyShrink+shrinkFactor*u29*(xyPatch-halfFromSparsity),uvFrom=(xyFrom+HALF2)/u24,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),xyPatchTo=xyPatch*shrinkFactor+xyShrink,uvWeight=(xyTo*toSparsity+xyPatchTo+HALF2)/weightSize,sum+=texture2D(u13,uvWeight)*texture2D(u14,uvFrom);}}}gl_FragColor=sum,gl_FragColor*=2.2222;}",
i:"u16 u24 u13 u14 u21 u29".split(" "),Ya:["1.1111","gl_FragColor\\*=2.2222;","3.3333"]}},S=null,J=null,K={Sa:function(){return z},s:function(){if(!z){S=Ha(M,2);J=Ha(E,2);p="highp";for(var v in S)d(D,S[v],v);G.set("s0");D.enableVertexAttribArray(0);z=!0}},ec:function(v){v.forEach(function(q){K.dc(q)})},dc:function(v){S[v.id]=v;d(D,v,v.id)},Ec:function(v,q,C){q||(q=v);S[q]=Object.create(J[v]);S[q].ye=!0;J[v].Ya&&J[v].Ya.forEach(function(N,Q){S[q].h=S[q].h.replace(new RegExp(N,"g"),C[Q])});d(D,S[q],
q)},set:function(v){var q=S[v];q.B&&(q.B=!1,d(D,q,v));h(q)},xa:function(v){return r(v,n(),"s40")},Sb:function(v){return r(v,{h:"void main(){gl_FragColor=vec4(.5,.5,.5,.5);}",i:[],precision:"highp"},"s41")},$d:function(v){return"undefined"===typeof S[v]?!1:S[v].da},N:function(){-1!==t&&(t=-1,f.ta.forEach(function(v){0!==v&&D.disableVertexAttribArray(v)}))},Ub:function(){var v=0;f.ta.forEach(function(q,C){C=f.sa[C];D.vertexAttribPointer(q,C,D.FLOAT,!1,f.ac,v);v+=4*C})},Df:function(){D.enableVertexAttribArray(0)},
Za:function(){K.$a(D)},$a:function(v){v.vertexAttribPointer(f.ta[0],2,v.FLOAT,!1,8,0)},hg:function(v,q){D.uniform1i(f.v[v],q)},L:function(v,q){D.uniform1f(f.v[v],q)},fa:function(v,q,C){D.uniform2f(f.v[v],q,C)},ig:function(v,q){D.uniform2fv(f.v[v],q)},pd:function(v,q){D.uniform3fv(f.v[v],q)},jg:function(v,q,C,N){D.uniform3f(f.v[v],q,C,N)},kg:function(v,q,C,N,Q){D.uniform4f(f.v[v],q,C,N,Q)},Tb:function(v,q){D.uniform4fv(f.v[v],q)},lg:function(v,q){D.uniformMatrix2fv(f.v[v],!1,q)},mg:function(v,q){D.uniformMatrix3fv(f.v[v],
!1,q)},ng:function(v,q){D.uniformMatrix4fv(f.v[v],!1,q)},I:function(v,q){K.set(v);q.forEach(function(C){switch(C.type){case "4f":D.uniform4fv(f.v[C.name],C.value);break;case "3f":D.uniform3fv(f.v[C.name],C.value);break;case "2f":D.uniform2fv(f.v[C.name],C.value);break;case "1f":D.uniform1f(f.v[C.name],C.value);break;case "1i":D.uniform1i(f.v[C.name],C.value);break;case "mat2":D.uniformMatrix2fv(f.v[C.name],!1,C.value);break;case "mat3":D.uniformMatrix3fv(f.v[C.name],!1,C.value);break;case "mat4":D.uniformMatrix4fv(f.v[C.name],
!1,C.value)}})},Nf:function(){return"lowp"},m:function(){D.disableVertexAttribArray(0);K.N();for(var v in S){var q=S[v];q.da&&(q.da=!1,D.deleteProgram(q.ea));q.ye&&delete S[v]}l.forEach(function(C){D.deleteShader(C)});l.splice(0);u=0;z=!1;f=null;t=-1}};return K}(),D=null,Ua=function(){function a(p){console.log("ERROR in ContextFF: ",p);return!1}function c(p){function m(){Qa.m();Ra.reset();w.getExtension("WEBGL_lose_context").loseContext()}if(navigator.userAgent&&-1!==navigator.userAgent.indexOf("forceWebGL1"))return!1;
var y=document.createElement("canvas");y.setAttribute("width",5);y.setAttribute("height",5);var w=null;try{w=y.getContext("webgl2",p)}catch(g){return!1}if(!w)return!1;d(w);Ra.nc(w);p=Ra.pb(w);if(!p.V&&!p.W)return m(),!1;p=Qa.kc(w,p);m();return p?!0:!1}function d(p){p.clearColor(0,0,0,0);p.disable(p.DEPTH_TEST);p.disable(p.BLEND);p.disable(p.DITHER);p.disable(p.STENCIL_TEST);p.disable(p.CULL_FACE);p.GENERATE_MIPMAP_HINT&&p.hint(p.GENERATE_MIPMAP_HINT,p.FASTEST);p.disable(p.SAMPLE_ALPHA_TO_COVERAGE);
p.disable(p.SAMPLE_COVERAGE);p.depthFunc(p.LEQUAL);p.clearDepth(1)}var h=null,r=null,n=null,l=null,t=!0,f=null,u=null,z={A:function(){return h.width},J:function(){return h.height},La:function(){return h},Ff:function(){return D},Y:function(){return t},flush:function(){D.flush()},de:function(){f||(f=new Uint8Array(h.width*h.height*4));D.readPixels(0,0,h.width,h.height,D.RGBA,D.UNSIGNED_BYTE,f);return f},Hf:function(){return h.toDataURL("image/jpeg")},If:function(){Sa.M();r||(r=document.createElement("canvas"),
n=r.getContext("2d"));r.width=h.width;r.height=h.height;for(var p=z.de(),m=n.createImageData(r.width,r.height),y=r.width,w=r.height,g=m.data,k=0;k<w;++k)for(var I=w-k-1,M=0;M<y;++M){var E=4*(k*y+M),S=4*(I*y+M);g[E]=p[S];g[E+1]=p[S+1];g[E+2]=p[S+2];g[E+3]=p[S+3]}n.putImageData(m,0,0);return r.toDataURL("image/png")},Gf:function(p){!r&&p&&(r=document.createElement("canvas"),n=r.getContext("2d"));var m=p?r:document.createElement("canvas");m.width=h.width;m.height=h.height;(p?n:m.getContext("2d")).drawImage(h,
0,0);return m},s:function(p){p.Rd&&!p.ob?h=document.getElementById(p.Rd):p.ob&&(h=p.ob);h||(h=document.createElement("canvas"));h.width=p&&void 0!==p.width?p.width:512;h.height=p&&void 0!==p.height?p.height:512;"undefined"===typeof p&&(p={});void 0===p.premultipliedAlpha&&(p.premultipliedAlpha=!1);void 0===p.Bb&&(p.Bb=!0);void 0===p.antialias&&(p.antialias=!1);if(D)t=D instanceof WebGL2RenderingContext;else{t=!0;var m={antialias:p.antialias,alpha:!0,preserveDrawingBuffer:!0,premultipliedAlpha:p.premultipliedAlpha,
stencil:!1,depth:p.Bb};navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("noAntialiasing")&&(m.antialias=!1);var y=c(m);!y&&m.antialias&&(m.antialias=!1,y=c(m));y&&(D=h.getContext("webgl2",m));D?t=!0:((D=h.getContext("webgl",m))||(D=h.getContext("experimental-webgl",m)),t=!1)}if(!D)return a("WebGL1 and 2 are not enabled");(l=D.getExtension("WEBGL_lose_context"))&&p.Wc&&(u=p.Wc,h.addEventListener("webglcontextlost",u,!1));if(!Ra.s())return a("Not enough GL capabilities");d(D);G.s();
O.s();return Qa.kc(D,Ra.be())?!0:a("Cannot filter float textures")},m:function(){D&&(Ra.m(),Qa.m());l&&u&&(h.removeEventListener("webglcontextlost",u,!1),l=u=null);D=f=n=r=h=null}};return z}(),Pa=function(){function a(){null===c&&("undefined"!==typeof G?c=G:"undefined"!==typeof JEShaders&&(c=JEShaders))}var c=null;a();return{bf:function(d){c!==d&&(c&&c.N(),c=d)},Sa:function(){return c.Sa()},Za:function(){return c.Za()},$a:function(d){return c.$a(d)},Ub:function(){return c.Ub()},N:function(){return c.N()},
set:function(d){return c.set(d)},xa:function(d){a();return c.xa(d)},Sb:function(d){a();return c.Sb(d)},m:function(){return c.m()}}}(),R=function(){function a(e){D.bindTexture(D.TEXTURE_2D,e)}function c(e){q[0]=e;e=C[0];var L=e>>16&32768,H=e>>12&2047,P=e>>23&255;return 103>P?L:142<P?L|31744|((255==P?0:1)&&e&8388607):113>P?(H|=2048,L|(H>>114-P)+(H>>113-P&1)):L=(L|P-112<<10|H>>1)+(H&1)}function d(e){var L=new Uint16Array(e.length);e.forEach(function(H,P){L[P]=c(H)});return L}function h(){if(null!==N.yb)return N.yb;
var e=n(d([.5,.5,.5,.5]));return null===e?!0:N.yb=e}function r(){if(null!==N.zb)return N.zb;var e=n(new Uint8Array([127,127,127,127]));return null===e?!0:N.zb=e}function n(e){if(!Pa.Sa()||!g)return null;var L=null,H=Math.sqrt(e.length/4);try{var P=D.getError();if("FUCKING_BIG_ERROR"===P)return!1;L=Q.instance({isFloat:!1,G:!0,array:e,width:H});P=D.getError();if(P!==D.NO_ERROR)return!1}catch(V){return!1}Sa.M();D.viewport(0,0,H,H);D.clearColor(0,0,0,0);D.clear(D.COLOR_BUFFER_BIT);Pa.set("s0");L.ic(0);
O.l(!0,!0);e=4*H*H;P=new Uint8Array(e);D.readPixels(0,0,H,H,D.RGBA,D.UNSIGNED_BYTE,P);H=!0;for(var aa=0;aa<e;++aa)H=H&&3>Math.abs(P[aa]-127);L.remove();Sa.U();return H}var l=0,t=null,f=0,u=null,z=null,p=null,m=null,y=null,w=null,g=!1,k=[],I={isFloat:!1,isPot:!0,isLinear:!1,isMipmap:!1,isAnisotropicFiltering:!1,isMirrorX:!1,isMirrorY:!1,isSrgb:!1,isKeepArray:!1,isFlipY:null,width:0,height:0,url:null,array:null,data:null,C:null,Bc:null,xe:!1,G:!1,ca:null,Ua:4,Hb:0},M=!1,E=null,S=null,J=[[1,0,0,0],[0,
1,0,0],[0,0,1,0],[0,0,0,1]],K=!1,v=!1,q=new Float32Array(1),C=new Int32Array(q.buffer),N={yb:null,zb:null},Q={s:function(){g||(y=[D.RGBA,null,D.RGBA,D.RGBA],w=[D.RGBA,null,D.RGBA,D.RGBA],t=[D.TEXTURE0,D.TEXTURE1,D.TEXTURE2,D.TEXTURE3,D.TEXTURE4,D.TEXTURE5,D.TEXTURE6,D.TEXTURE7],K="undefined"!==typeof JEContext,v="undefined"!==typeof Ra,K&&JEContext.ag()&&t.push(D.TEXTURE8,D.TEXTURE9),u=[-1,-1,-1,-1,-1,-1,-1,-1],m=[D.UNSIGNED_BYTE,D.FLOAT,D.FLOAT],g=!0)},re:function(){if(!z){for(var e=new Float32Array(16384),
L=0;16384>L;++L)e[L]=2*Math.random()-1;z={random:Q.instance({isFloat:!0,isPot:!0,array:e,width:64}),vd:Q.instance({isFloat:!1,isPot:!0,width:1,array:new Uint8Array([0,0,0,0])})}}Q.mf()},Tf:function(){return z.vd},mf:function(){m[1]=Ra.tb(D)},$e:function(){w=y=[D.RGBA,D.RGBA,D.RGBA,D.RGBA]},fd:function(e){G.set("s1");Sa.M();var L=e.A(),H=e.J();D.viewport(0,0,L,H);e.g(0);O.l(!1,!1)},Re:function(e,L){Q.fd(e);D.readPixels(0,0,e.A(),e.J(),D.RGBA,D.UNSIGNED_BYTE,L)},Se:function(e,L){Q.fd(e);return Ra.Rb(0,
0,e.A(),e.J(),L)},uc:function(e,L,H,P,aa,V,la){e.activeTexture(e.TEXTURE0);var x=e.createTexture();e.bindTexture(e.TEXTURE_2D,x);aa=aa instanceof Float32Array?aa:new Float32Array(aa);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST);e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,V);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,
H,P,0,e.RGBA,e.FLOAT,aa);e.bindTexture(e.TEXTURE_2D,null);e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!1);la&&(Sa.U(),G.xa(e));e.viewport(0,0,H,P);e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,L,0);e.bindTexture(e.TEXTURE_2D,x);la?O.l(!0,!0):O.Ja(e);e.deleteTexture(x);g&&(u[0]=-1,p=null,l=0)},jb:function(e){e!==l&&(D.activeTexture(t[e]),l=e)},instance:function(e){function L(){T=void 0!==x.C.videoWidth?x.C.videoWidth:x.C.width;W=void 0!==x.C.videoHeight?x.C.videoHeight:x.C.height}function H(B){var U=
D.getError();if("FUCKING_BIG_ERROR"===U)return!1;D.texImage2D(D.TEXTURE_2D,0,ia,fa,ha,B);U=D.getError();U!==D.NO_ERROR&&fa!==D.RGBA&&(fa=D.RGBA,D.texImage2D(D.TEXTURE_2D,0,ia,fa,ha,B));return!0}function P(){if(!Xa){a(ma);sa&&D.pixelStorei(D.UNPACK_FLIP_Y_WEBGL,sa);x.isPot?(D.texParameteri(D.TEXTURE_2D,D.TEXTURE_WRAP_S,x.isMirrorX?D.MIRRORED_REPEAT:D.REPEAT),D.texParameteri(D.TEXTURE_2D,D.TEXTURE_WRAP_T,x.isMirrorY?D.MIRRORED_REPEAT:D.REPEAT)):(D.texParameteri(D.TEXTURE_2D,D.TEXTURE_WRAP_S,D.CLAMP_TO_EDGE),
D.texParameteri(D.TEXTURE_2D,D.TEXTURE_WRAP_T,D.CLAMP_TO_EDGE));x.isAnisotropicFiltering&&"undefined"!==typeof JESETTINGS&&D.texParameterf(D.TEXTURE_2D,JEContext.Kf().TEXTURE_MAX_ANISOTROPY_EXT,JESETTINGS.sf);D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MAG_FILTER,x.isLinear?D.LINEAR:D.NEAREST);x.isLinear?D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MIN_FILTER,x.isMipmap&&!ya?D.NEAREST_MIPMAP_LINEAR:D.LINEAR):D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MIN_FILTER,x.isMipmap&&!ya?D.NEAREST_MIPMAP_NEAREST:D.NEAREST);
fa=y[x.Ua-1];ia=w[x.Ua-1];ha=m[F];if(Ra.Y()){var B=Ra.ee();fa===D.RGBA&&ha===D.FLOAT?x.isMipmap||x.isLinear?ia=Qa.ge(D):Ra.lc()?B&&(ia=B):ia=D.RGBA16F||D.RGBA:fa===D.RGB&&ha===D.FLOAT&&B&&(ia=B,fa=D.RGBA)}if(x.G&&!x.isFloat||x.isFloat&&x.isMipmap&&Qa.Be())ia=Ra.fe(),ha=Ra.tb(D);x.Hb&&(Ka=x.Hb);x.isSrgb&&4===x.Ua&&(fa=JEContext.Rf());if(x.C)H(x.C);else if(x.url)H(xa);else if(na){B=na;try{"FUCKING_BIG_ERROR"!==D.getError()&&(D.texImage2D(D.TEXTURE_2D,0,ia,T,W,0,fa,ha,B),D.getError()!==D.NO_ERROR&&(D.texImage2D(D.TEXTURE_2D,
0,ia,T,W,0,fa,ha,null),D.getError()!==D.NO_ERROR&&D.texImage2D(D.TEXTURE_2D,0,D.RGBA,T,W,0,D.RGBA,D.UNSIGNED_BYTE,null)))}catch(Ib){D.texImage2D(D.TEXTURE_2D,0,ia,T,W,0,fa,ha,null)}x.isKeepArray||(na=null)}else B=D.getError(),"FUCKING_BIG_ERROR"!==B&&(D.texImage2D(D.TEXTURE_2D,0,ia,T,W,0,fa,ha,null),B=D.getError(),B!==D.NO_ERROR&&(fa=D.RGBA,x.G&&ha!==D.FLOAT&&(ha=D.FLOAT,D.texImage2D(D.TEXTURE_2D,0,ia,T,W,0,fa,ha,null))));if(x.isMipmap)if(!ya&&da)da.sb(),La=!0;else if(ya){B=Math.log2(Math.min(T,W));
Ba=Array(1+B);Ba[0]=ma;for(var U=1;U<=B;++U){var ja=Math.pow(2,U),Z=T/ja;ja=W/ja;var za=D.createTexture();a(za);D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MIN_FILTER,D.NEAREST);D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MAG_FILTER,D.NEAREST);D.texImage2D(D.TEXTURE_2D,0,ia,Z,ja,0,fa,ha,null);a(null);Ba[U]=za}La=!0}a(null);u[l]=-1;sa&&D.pixelStorei(D.UNPACK_FLIP_Y_WEBGL,!1);Ea=!0;x.ca&&da&&(x.ca(da),x.ca=null)}}function aa(){for(var B=T*W,U=2*B,ja=3*B,Z=0;Z<B;++Z)pa[0][Z]=Fa[Z],pa[1][Z]=Fa[Z+B],pa[2][Z]=Fa[Z+
U],pa[3][Z]=Fa[Z+ja]}function V(){var B=T*W*4;va=[new Uint8Array(B),new Uint8Array(B),new Uint8Array(B),new Uint8Array(B)];pa=[new Float32Array(va[0].buffer),new Float32Array(va[1].buffer),new Float32Array(va[2].buffer),new Float32Array(va[3].buffer)];Ma=new Uint8Array(4*B);Fa=new Float32Array(Ma.buffer);Ga=!0}function la(){wa.lb=new Uint8Array(T*W*4);wa.wc=new Float32Array(wa.buffer);wa.Db=!0}var x=Object.assign({},I,e),A=f++;null===x.isFlipY&&(x.isFlipY=x.url||x.array?!0:!1);x.data&&(x.array="string"===
typeof x.data?Oa(x.data):x.isFloat?new Float32Array(x.data):new Uint8Array(x.data),x.isFlipY=!1);var F=0,ca=x.C?!0:!1,X=null,qa=null,Ya=!1,Ta=null;x.G=x.G||x.isFloat;x.G&&(F=1);!x.xe&&x.isFloat&&v&&!Ra.lc()&&(x.isFloat=!1);x.isFloat&&(F=2);x.isAnisotropicFiltering&&K&&!JEContext.Wf()&&(x.isAnisotropicFiltering=!1);var ma=x.Bc||D.createTexture(),xa=null,na=!1,T=0,W=0,Ea=!1,Xa=!1,Ga=!1,pa=null,va=null,Ma=null,Fa=null,ia=null,fa=null,ha=null,sa=x.isFlipY,rb=(e=x.G&&x.isMipmap)&&Qa.Id(),ya=e&&rb?!0:!1,
Ba=null,Ka=-1,La=!1,wa={Db:!1,lb:null,wc:null};x.width&&(T=x.width,W=x.height?x.height:T);var da={get:function(){return ma},A:function(){return T},J:function(){return W},Uf:function(){return x.url},Xf:function(){return x.isFloat},Zf:function(){return x.G},$f:function(){return x.isLinear},sb:function(){D.generateMipmap(D.TEXTURE_2D)},Gd:function(B,U){ya?(B||(B=da.zc()),Q.jb(U),a(Ba[B]),u[U]=-1):da.g(U)},zc:function(){-1===Ka&&(Ka=Math.log(T)/Math.log(2));return Ka},ae:function(B){if(ya){B||(B=da.zc());
G.set("s11");Q.jb(0);for(var U=T,ja=W,Z=1;Z<=B;++Z)U/=2,ja/=2,G.fa("u7",.25/U,.25/ja),D.viewport(0,0,U,ja),a(Ba[Z-1]),D.framebufferTexture2D(Sa.Na(),D.COLOR_ATTACHMENT0,D.TEXTURE_2D,Ba[Z],0),O.l(!1,1===Z);u[0]=-1}else da.sb()},gg:function(B){(ca=!(Array.isArray(B)||B.constructor===Float32Array||B.constructor===Uint8Array))?(na=null,x.C=B,L()):na=B},g:function(B){if(!Ea)return!1;Q.jb(B);if(u[B]===A)return!1;a(ma);u[B]=A;return!0},ic:function(B){D.activeTexture(t[B]);l=B;a(ma);u[B]=A},u:function(){p=
da;D.framebufferTexture2D(Sa.Na(),D.COLOR_ATTACHMENT0,D.TEXTURE_2D,ma,0)},P:function(){p=da;D.viewport(0,0,T,W);D.framebufferTexture2D(Sa.Na(),D.COLOR_ATTACHMENT0,D.TEXTURE_2D,ma,0)},$b:Q.$b,resize:function(B,U){T=B;W=U;P()},clone:function(B){B=Q.instance({width:T,height:W,G:x.G,isFloat:x.isFloat,isLinear:x.isLinear,isMirrorY:x.isMirrorY,isFlipY:B?!sa:sa,isPot:x.isPot});Pa.set("s0");Sa.U();B.u();D.viewport(0,0,T,W);da.g(0);O.l(!0,!0);return B},cf:function(){D.viewport(0,0,T,W)},remove:function(){D.deleteTexture(ma);
Xa=!0;k.splice(k.indexOf(da),1);da=null},refresh:function(){da.ic(0);sa&&D.pixelStorei(D.UNPACK_FLIP_Y_WEBGL,!0);ca?D.texImage2D(D.TEXTURE_2D,0,ia,fa,ha,x.C):D.texImage2D(D.TEXTURE_2D,0,ia,T,W,0,fa,ha,na);sa&&D.pixelStorei(D.UNPACK_FLIP_Y_WEBGL,!1)},Qb:function(){Ga||V();D.readPixels(0,0,T,4*W,D.RGBA,D.UNSIGNED_BYTE,Ma);aa();return pa},Oe:function(){Ga||V();return Ra.Rb(0,0,T,4*W,Ma).then(function(){aa();return pa})},Qe:function(){wa.Db||la();D.readPixels(0,0,T,W,D.RGBA,D.UNSIGNED_BYTE,wa.lb);return wa.wc},
Pe:function(){wa.Db||la();return Ra.Rb(0,0,T,W,wa.lb)},qb:function(B){Sa.M();G.set("s12");da.g(0);if(B)D.viewport(0,0,T,W),G.Tb("u8",.25,.25,.25,.25),O.l(!1,!0);else for(B=0;4>B;++B)D.viewport(0,W*B,T,W),G.Tb("u8",J[B]),O.l(!1,0===B)},qg:function(B){var U=ha===m[0]&&!r();a(ma);sa&&D.pixelStorei(D.UNPACK_FLIP_Y_WEBGL,!0);U?(Ya||(X=document.createElement("canvas"),X.width=T,X.height=W,qa=X.getContext("2d"),Ta=qa.createImageData(T,W),Ya=!0),Ta.data.set(B),qa.putImageData(Ta,0,0),D.texImage2D(D.TEXTURE_2D,
0,ia,fa,ha,X)):D.texImage2D(D.TEXTURE_2D,0,ia,T,W,0,fa,ha,B);u[l]=A;sa&&D.pixelStorei(D.UNPACK_FLIP_Y_WEBGL,!1)},rg:function(B,U){a(ma);U&&D.pixelStorei(D.UNPACK_FLIP_Y_WEBGL,!0);D.texImage2D(D.TEXTURE_2D,0,ia,fa,ha,B);u[l]=A;U&&D.pixelStorei(D.UNPACK_FLIP_Y_WEBGL,!1)},eg:function(B,U){var ja=T*W,Z=4*ja;B=x.G?B?"RGBE":"JSON":"RGBA";U&&(B=U);U=Ra.Y()&&!1;var za=null;switch(B){case "RGBE":za="s42";break;case "JSON":za=U?"s0":"s12";break;case "RGBA":case "RGBAARRAY":za="s6"}Ga||("RGBA"===B||"RGBE"===
B||"RGBAARRAY"===B?(va=new Uint8Array(Z),Ga=!0):"JSON"!==B||U||V());Sa.M();G.set(za);da.g(0);Z=null;if("RGBA"===B||"RGBE"===B||"RGBAARRAY"===B){D.viewport(0,0,T,W);O.l(!0,!0);D.readPixels(0,0,T,W,D.RGBA,D.UNSIGNED_BYTE,va);if("RGBAARRAY"===B)return{data:va};M||(E=document.createElement("canvas"),S=E.getContext("2d"),M=!0);E.width=T;E.height=W;ja=S.createImageData(T,W);ja.data.set(va);S.putImageData(ja,0,0);Z=E.toDataURL("image/png")}else if("JSON"===B)if(U)Z=new Float32Array(ja),D.viewport(0,0,T,
W),O.l(!0,!0),D.readPixels(0,0,T,W,D.RGBA,D.FLOAT,Z);else{for(Z=0;4>Z;++Z)D.viewport(0,W*Z,T,W),G.Tb("u8",J[Z]),O.l(!Z,!Z);da.Qb();Z=Array(ja);for(U=0;U<ja;++U)Z[4*U]=pa[0][U],Z[4*U+1]=pa[1][U],Z[4*U+2]=pa[2][U],Z[4*U+3]=pa[3][U]}return{format:B,data:Z,width:T,height:W,isMirrorY:x.isMirrorY,isFlipY:"RGBA"===B?x.isFlipY:!x.isFlipY}}};x.isMipmap&&!ya&&Ea&&!La&&(da.sb(),La=!0);if(x.url)a(ma),D.texImage2D(D.TEXTURE_2D,0,D.RGBA,1,1,0,D.RGBA,D.UNSIGNED_BYTE,null),xa=new Image,xa.Af="Anonymous",xa.crossOrigin=
"Anonymous",xa.src=x.url,xa.onload=function(){T=xa.width;W=xa.height;P()};else if(x.C){var Za=function(){L();T?P():setTimeout(Za,1)};Za()}else x.array?(x.G&&!x.isFloat?x.array instanceof Uint16Array?(na=x.array,P()):h()?(na=d(x.array),P()):(P(),Q.uc(D,ma,da.A(),da.J(),x.array,sa,!0)):(na=x.isFloat?x.array instanceof Float32Array?x.array:new Float32Array(x.array):x.array instanceof Uint8Array?x.array:new Uint8Array(x.array),P()),x.isKeepArray||(na&&na!==x.array&&(na=null),delete x.array)):x.Bc?Ea=
!0:P();da.Qf=da.A;x.ca&&Ea&&(x.ca(da),x.ca=null);k.push(da);return da},M:function(e){e!==l&&(D.activeTexture(t[e]),l=e);u[e]=-1;a(null)},vf:function(e){z.random.g(e)},$b:function(){p=null;D.framebufferTexture2D(Sa.Na(),D.COLOR_ATTACHMENT0,D.TEXTURE_2D,null,0)},reset:function(){0!==l&&D.activeTexture(t[0]);for(var e=0;e<t.length;++e)u[e]=-1;l=-1},dg:function(){l=-1},hf:function(){for(var e=0;e<t.length;++e)Q.M(e)},xc:function(){z&&(z.random.remove(),z.vd.remove())},pg:function(e,L){if("RGBA"===e.format||
"RGBE"===e.format){var H=new Image;H.src=e.data;H.onload=function(){Q.instance({isMirrorY:e.isMirrorY,isFlipY:e.isFlipY,isFloat:!1,C:H,ca:function(P){if("RGBA"===e.format)L(P);else{var aa=e.width,V=e.height,la=Q.instance({isMirrorY:e.isMirrorY,isFloat:!0,width:aa,height:V,isFlipY:e.isFlipY});Sa.U();D.viewport(0,0,aa,V);G.set("s43");la.u();P.g(0);O.l(!0,!0);Q.M(0);L(la);D.flush();setTimeout(P.remove,50)}}})}}else"JSON"===e.format?L(Q.instance({isFloat:!0,isFlipY:e.isFlipY,width:e.width,height:e.height,
array:new Float32Array(e.data)})):L(!1)},Nd:d,m:function(){p&&(Sa.U(),Q.$b(),Sa.M());Q.hf();k.slice(0).forEach(function(e){e.remove()});k.splice(0);g=!1;f=0;"undefined"!==typeof Qa&&Qa.m();z=null}};return Q}(),Va={instance:function(a){var c=[R.instance(a),R.instance(a)],d=[c[1],c[0]],h=d,r={od:function(n){h[1].u();h[0].g(n);r.sd()},fg:function(n){h[1].P();h[0].g(n);r.sd()},sd:function(){h=h===c?d:c},refresh:function(){h[0].refresh();h[1].refresh()},g:function(n){h[0].g(n)},uf:function(n){h[1].g(n)},
je:function(){return h[0]},Of:function(){return h[1]},remove:function(){h[0].remove();h[1].remove();h=null}};return r}},O=function(){function a(f){var u={T:null,F:null};u.T=f.createBuffer();f.bindBuffer(f.ARRAY_BUFFER,u.T);f.bufferData(f.ARRAY_BUFFER,new Float32Array([-1,-1,3,-1,-1,3]),f.STATIC_DRAW);u.F=f.createBuffer();f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,u.F);f.bufferData(f.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2]),f.STATIC_DRAW);return u}var c=null,d=0,h=!1,r=[],n=-2,l=-2,t={reset:function(){l=
n=-2},s:function(){h||(c=a(D),t.kb(),h=!0)},instance:function(f){var u=d++,z=f.F?f.F.length:0,p="undefined"===typeof f.mode?D.STATIC_DRAW:f.mode,m=D.createBuffer();D.bindBuffer(D.ARRAY_BUFFER,m);D.bufferData(D.ARRAY_BUFFER,f.T instanceof Float32Array?f.T:new Float32Array(f.T),p);n=u;var y=null,w=null,g=null;if(f.F){y=D.createBuffer();D.bindBuffer(D.ELEMENT_ARRAY_BUFFER,y);var k=null;65536>f.F.length?(k=Uint16Array,w=D.UNSIGNED_SHORT,g=2):(k=Uint32Array,w=D.UNSIGNED_INT,g=4);k=f.F instanceof k?f.F:
new k(f.F);D.bufferData(D.ELEMENT_ARRAY_BUFFER,k,p);l=u}var I={Hd:function(M){n!==u&&(D.bindBuffer(D.ARRAY_BUFFER,m),n=u);M&&Pa.Ub()},Ed:function(){l!==u&&(D.bindBuffer(D.ELEMENT_ARRAY_BUFFER,y),l=u)},bind:function(M){I.Hd(M);I.Ed()},Bf:function(){D.drawElements(D.TRIANGLES,z,w,0)},Cf:function(M,E){D.drawElements(D.TRIANGLES,M,w,E*g)},remove:function(){D.deleteBuffer(m);f.F&&D.deleteBuffer(y);I=null}};r.push(I);return I},kb:function(){-1!==n&&(D.bindBuffer(D.ARRAY_BUFFER,c.T),n=-1);-1!==l&&(D.bindBuffer(D.ELEMENT_ARRAY_BUFFER,
c.F),l=-1)},l:function(f,u){f&&O.kb();u&&Pa.Za();D.drawElements(D.TRIANGLES,3,D.UNSIGNED_SHORT,0)},Ja:function(f){f=f||D;var u=a(f);f.bindBuffer(f.ARRAY_BUFFER,u.T);f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,u.F);Pa.$a(f);f.clear(f.COLOR_BUFFER_BIT);f.drawElements(f.TRIANGLES,3,f.UNSIGNED_SHORT,0);f.flush();f.bindBuffer(f.ARRAY_BUFFER,null);f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,null);f.deleteBuffer(u.T);f.deleteBuffer(u.F);t.reset();h&&(t.kb(),Pa.Za())},xc:function(){var f=D,u=c;f.deleteBuffer(u.T);f.deleteBuffer(u.F)},
m:function(){t.xc();r.forEach(function(f){f.remove()});D.bindBuffer(D.ARRAY_BUFFER,null);D.bindBuffer(D.ELEMENT_ARRAY_BUFFER,null);t.reset();h=!1;r.splice(0);d=0}};return t}(),Sa=function(){var a=null,c=null,d=null,h=!1,r=[],n={D:-2,tc:1},l={Sa:function(){return h},s:function(){if(!h){a=D.createFramebuffer();var t=Ra.Y();c=t&&D.DRAW_FRAMEBUFFER?D.DRAW_FRAMEBUFFER:D.FRAMEBUFFER;d=t&&D.READ_FRAMEBUFFER?D.READ_FRAMEBUFFER:D.FRAMEBUFFER;h=!0}},Lf:function(){return c},he:function(){return d},Na:function(){return D.FRAMEBUFFER},
Pf:function(){return n},Ef:function(){return a},instance:function(t){void 0===t.Ic&&(t.Ic=!1);var f=t.pa?t.pa:null,u=t.width,z=void 0!==t.height?t.height:t.width,p=a,m=null,y=!1,w=!1,g=0;f&&(u=u?u:f.A(),z=z?z:f.J());var k={nd:function(){y||(p=D.createFramebuffer(),y=!0,g=n.tc++)},zd:function(){k.nd();k.u();m=D.createRenderbuffer();D.bindRenderbuffer(D.RENDERBUFFER,m);D.renderbufferStorage(D.RENDERBUFFER,D.DEPTH_COMPONENT16,u,z);D.framebufferRenderbuffer(c,D.DEPTH_ATTACHMENT,D.RENDERBUFFER,m);D.clearDepth(1)},
bind:function(I,M){g!==n.D&&(D.bindFramebuffer(c,p),n.D=g);f&&f.u();M&&D.viewport(0,0,u,z);I&&D.clear(D.COLOR_BUFFER_BIT|D.DEPTH_BUFFER_BIT)},tf:function(){g!==n.D&&(D.bindFramebuffer(c,p),n.D=g)},clear:function(){D.clear(D.COLOR_BUFFER_BIT|D.DEPTH_BUFFER_BIT)},yf:function(){D.clear(D.COLOR_BUFFER_BIT)},zf:function(){D.clear(D.DEPTH_BUFFER_BIT)},cf:function(){D.viewport(0,0,u,z)},u:function(){g!==n.D&&(D.bindFramebuffer(c,p),n.D=g)},rtt:function(I){f=I;n.D!==g&&(D.bindFramebuffer(D.FRAMEBUFFER,p),
n.D=g);I.u()},M:function(){D.bindFramebuffer(c,null);n.D=-1},resize:function(I,M){u=I;z=M;m&&(D.bindRenderbuffer(D.RENDERBUFFER,m),D.renderbufferStorage(D.RENDERBUFFER,D.DEPTH_COMPONENT16,u,z))},remove:function(){p===a||w||(D.bindFramebuffer(c,p),D.framebufferTexture2D(c,D.COLOR_ATTACHMENT0,D.TEXTURE_2D,null,0),m&&D.framebufferRenderbuffer(c,D.DEPTH_ATTACHMENT,D.RENDERBUFFER,null),D.bindFramebuffer(c,null),D.deleteFramebuffer(p),m&&D.deleteRenderbuffer(m));w=!0}};t.Ic&&k.zd();r.push(k);return k},
M:function(){D.bindFramebuffer(c,null);n.D=-1},jf:function(){D.bindFramebuffer(c,null);D.clear(D.COLOR_BUFFER_BIT|D.DEPTH_BUFFER_BIT);D.viewport(0,0,Ra.A(),Ra.J());n.D=-1},reset:function(){n.D=-2},U:function(){0!==n.D&&(D.bindFramebuffer(c,a),n.D=0)},clear:function(){D.viewport(0,0,Ra.A(),Ra.J());D.clear(D.COLOR_BUFFER_BIT)},m:function(){l.M();r.forEach(function(t){t.remove()});null!==a&&(D.deleteFramebuffer(a),a=null);l.reset();h=!1;r.splice(0);n.tc=1}};return l}(),Ra=function(){function a(){h="undefined"===
typeof Ua?JEContext:Ua;r=!0}function c(g,k){for(var I=0;I<g.length;++I){var M=k.getExtension(g[I]);if(M)return M}return null}function d(){null!==m.cb&&(clearInterval(m.cb),m.cb=null);m.ua=!1}var h=null,r=!1,n={Jc:!1,Wb:null,Xb:null,Mc:!1,Ae:!1,Yb:null,Nc:!1,Zb:null,Kc:!1,mb:null,ue:!1,nb:null,ve:!1},l=null,t={V:!0,W:!0,rb:!0,ed:!1},f=null,u=!0,z=null,p=null,m={ua:!1,ka:null,Oa:null,wb:-1,la:null,cb:null},y="undefined"===typeof window?{}:window,w={s:function(){if(r)return!0;w.reset();r||a();var g=
D;if(!l.Jc){l.Wb=w.qc(g);y.GL_EXT_FLOAT=l.Wb;l.Mc=l.Wb?!0:!1;if(l.Mc||w.Y())l.Xb=w.rc(g),l.Ae=l.Xb?!0:!1,y.GL_EXT_FLOATLINEAR=l.Xb;l.Jc=!0}if(!l.Kc){l.Yb=w.Ia(g);l.Yb&&(l.Nc=!0,y.GL_EXT_HALFFLOAT=l.Yb);if(l.Nc||w.Y())l.Zb=w.sc(g),y.GL_EXT_HALFFLOATLINEAR=l.Zb;l.Vf=l.Zb?!0:!1;l.Kc=!0}l.mb=w.oc(g);l.ue=l.mb?!0:!1;y.GL_EXT_COLORBUFFERFLOAT=l.mb;l.nb=w.pc(g);l.ve=l.nb?!0:!1;y.GL_EXT_COLORBUFFERHALFFLOAT=l.nb;Sa.s();R.s();if(!w.Td())return!1;O.s();R.re();return!0},reset:function(){l=Object.assign({},n);
f=Object.assign({},t)},A:function(){r||a();return h.A()},J:function(){r||a();return h.J()},Y:function(){r||a();return h.Y()},nc:function(g){w.oc(g);w.pc(g);w.qc(g);w.rc(g);w.Ia(g);w.sc(g)},oc:c.bind(null,["EXT_color_buffer_float","WEBGL_color_buffer_float","OES_color_buffer_float"]),pc:c.bind(null,["EXT_color_buffer_half_float","WEBGL_color_buffer_half_float","OES_color_buffer_half_float"]),qc:c.bind(null,["OES_texture_float","MOZ_OES_texture_float","WEBKIT_OES_texture_float"]),rc:c.bind(null,["OES_texture_float_linear",
"MOZ_OES_texture_float_linear","WEBKIT_OES_texture_float_linear"]),Ia:c.bind(null,["OES_texture_half_float","MOZ_OES_texture_half_float","WEBKIT_OES_texture_half_float"]),sc:c.bind(null,["OES_texture_half_float_linear","MOZ_OES_texture_half_float_linear","WEBKIT_OES_texture_half_float_linear"]),tb:function(g){var k=w.Ia(g);return k&&k.HALF_FLOAT_OES?k.HALF_FLOAT_OES:g.HALF_FLOAT||g.FLOAT},ee:function(){return p||D.RGBA32F||D.RGBA},fe:function(){return z||D.RGBA16F||D.RGBA},be:function(){return f},
lc:function(){return f.V},xf:function(){return f.W},wf:function(){return f.rb},Jd:function(){return f.ed&&u},ud:function(g){u=g;!g&&m.ua&&(D.deleteSync(m.Oa),D.bindBuffer(m.la,null),m.ua=!1)},bb:function(g,k,I){function M(){g.bindTexture(g.TEXTURE_2D,null);g.bindFramebuffer(E,null);g.deleteTexture(K);g.deleteFramebuffer(J)}var E=g.FRAMEBUFFER,S=g.NEAREST,J=g.createFramebuffer();g.bindFramebuffer(E,J);var K=g.createTexture();g.activeTexture(g.TEXTURE0);g.bindTexture(g.TEXTURE_2D,K);g.pixelStorei(g.UNPACK_FLIP_Y_WEBGL,
!1);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,S);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,S);g.texImage2D(g.TEXTURE_2D,0,k,3,3,0,g.RGBA,I,null);g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,K,0);if(g.checkFramebufferStatus(g.READ_FRAMEBUFFER||g.FRAMEBUFFER)!==g.FRAMEBUFFER_COMPLETE)return M(),!1;Pa.Sb(g);g.clearColor(0,0,0,0);g.viewport(0,
0,3,3);g.disable(g.DEPTH_TEST);g.clear(g.COLOR_BUFFER_BIT);O.Ja(g);g.bindFramebuffer(E,null);Pa.xa(g);g.activeTexture(g.TEXTURE0);g.bindTexture(g.TEXTURE_2D,K);O.Ja(g);k=new Uint8Array(36);g.readPixels(0,0,3,3,g.RGBA,g.UNSIGNED_BYTE,k);M();for(I=0;36>I;++I)if(3!==I%4&&3<Math.abs(k[I]-127))return!1;return!0},pb:function(g){var k={V:!1,W:!1};g.disable(g.BLEND);g.clearColor(0,0,0,0);g.clear(g.COLOR_BUFFER_BIT);g.RGBA32F&&w.bb(g,g.RGBA32F,g.FLOAT)&&(k.V=!0,p=g.RGBA32F);!k.V&&w.bb(g,g.RGBA,g.FLOAT)&&(k.V=
!0,p=g.RGBA);var I=w.tb(g);z=null;g.RGBA16F&&w.bb(g,g.RGBA16F,I)&&(k.W=!0,z=g.RGBA16F);!k.W&&w.bb(g,g.RGBA,I)&&(k.W=!0,z=g.RGBA);return k},Ud:function(){var g=Sa.instance({width:2});g.nd();var k=R.instance({width:2,isFloat:!0,Ua:3});g.u();k.u();D.flush();D.checkFramebufferStatus(Sa.he())!==D.FRAMEBUFFER_COMPLETE?(R.$e(),f.rb=!1):f.rb=!0;g.remove();k.remove()},Vd:function(){var g=!1;w.Y()&&(g="PIXEL_PACK_BUFFER STREAM_READ SYNC_GPU_COMMANDS_COMPLETE WAIT_FAILED fenceSync deleteSync createBuffer".split(" ").every(function(k){return"undefined"!==
typeof D[k]}));f.ed=g},Td:function(){var g=w.pb(D);Object.assign(f,g);if(!f.V&&!f.W)return!1;w.Ud();w.Vd();return!0},Rb:function(g,k,I,M,E){if(!w.Jd())return D.readPixels(g,k,I,M,D.RGBA,D.UNSIGNED_BYTE,E),Promise.resolve(E);null===m.ka&&(m.la=D.PIXEL_PACK_BUFFER,m.ka=D.createBuffer(),m.wb=-1);D.bindBuffer(m.la,m.ka);E.byteLength!==m.wb&&(D.bufferData(m.la,E.byteLength,D.STREAM_READ),m.wb=E.byteLength);D.readPixels(g,k,I,M,D.RGBA,D.UNSIGNED_BYTE,0);m.Oa=D.fenceSync(D.SYNC_GPU_COMMANDS_COMPLETE,0);
D.flush();return new Promise(function(S,J){function K(){if(!m.ua)return d(),J(),!1;switch(D.clientWaitSync(m.Oa,0,0)){case D.TIMEOUT_EXPIRED:case D.WAIT_FAILED:return!1;default:return d(),D.deleteSync(m.Oa),D.getBufferSubData(m.la,0,E),D.bindBuffer(m.la,null),S(E),!0}}d();m.ua=!0;K()||(m.cb=setInterval(K,0))})},m:function(){d();R.m();Pa.m();Sa.m();O.m();null!==m.ka&&(D.deleteBuffer(m.ka),m.ka=null);r=!1}};return w}(),Qa=function(){function a(J,K,v,q){k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,
q?k.NEAREST_MIPMAP_NEAREST:k.LINEAR);var C=null;if(null!==v)try{C=k.getError();if("FUCKING_BIG_ERROR"===C)return!1;k.texImage2D(k.TEXTURE_2D,0,J,4,4,0,k.RGBA,K,v);C=k.getError();if(C!==k.NO_ERROR)return!1}catch(N){return!1}q&&k.generateMipmap(k.TEXTURE_2D);k.clear(k.COLOR_BUFFER_BIT);O.Ja(k);C=k.getError();if("FUCKING_BIG_ERROR"===C)return!1;k.readPixels(0,0,2,2,k.RGBA,k.UNSIGNED_BYTE,z);C=k.getError();C===k.INVALID_OPERATION&&"undefined"!==typeof k.PIXEL_PACK_BUFFER&&(k.bindBuffer(k.PIXEL_PACK_BUFFER,
null),k.readPixels(0,0,2,2,k.RGBA,k.UNSIGNED_BYTE,z),C=k.getError());if(C!==k.NO_ERROR)return!1;v=!0;for(q=0;16>q;++q)v=v&&4>Math.abs(z[q]-127);v&&(f.Yc=K,f.Hc=J);return v}function c(J,K){return I.V&&a(J,k.FLOAT,new Float32Array(p),K)?(t=l.cc,!0):!1}function d(J,K,v){if(!I.W)return!1;var q=R.Nd(p),C=Ra.Ia(k);if(C&&C.HALF_FLOAT_OES&&a(J,C.HALF_FLOAT_OES,q,K)||k.HALF_FLOAT&&a(J,k.HALF_FLOAT,q,K))return t=l.qa,!0;q=new Float32Array(p);if(a(J,k.FLOAT,q,K))return t=l.qa,!0;k.bindTexture(k.TEXTURE_2D,v);
k.texImage2D(k.TEXTURE_2D,0,k.RGBA,2,2,0,k.RGBA,k.UNSIGNED_BYTE,null);k.bindFramebuffer(f.Ga,S);R.uc(k,v,2,2,q,!1,!1);k.bindFramebuffer(f.Ga,null);k.bindTexture(k.TEXTURE_2D,v);return a(J,null,null,K)?(t=l.qa,!0):!1}function h(J,K,v){u=!0;if(d(J,!0,v)||c(K,!0))return!0;u=!1;return d(J,!1,v)||c(K,!1)?!0:!1}function r(J){if(t===l.N){k=J||D;t=l.RGBA8;u=!0;Ra.nc(k);I||(I=Ra.pb(k));Sa.reset();S=k.createFramebuffer();f.Ga=k.DRAW_FRAMEBUFFER||k.FRAMEBUFFER;k.bindFramebuffer(f.Ga,null);k.clearColor(0,0,0,
0);k.viewport(0,0,2,2);G.N();M=G.xa(k);J=k.createTexture();k.activeTexture(k.TEXTURE0);k.bindTexture(k.TEXTURE_2D,J);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.REPEAT);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.REPEAT);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,k.NEAREST);E=J;var K=J=k.RGBA,v=k.RGBA16F,q=k.RGBA32F;q&&(J=q);v&&(K=v);if((v||q)&&h(K,J,E))return n(),!0;J=K=k.RGBA;if(h(K,J,E))return n(),!0;t=l.RGBA8;n();return!1}}function n(){k.deleteProgram(M.ea);k.deleteTexture(E);E=
M=null}for(var l={N:-1,cc:3,qa:2,RGBA8:0},t=l.N,f={Yc:null,Hc:null,Ga:null},u=!0,z=new Uint8Array(16),p=Array(64),m=0;4>m;++m)for(var y=0;4>y;++y){var w=0===(y+m)%2?1:0,g=4*m+y;p[4*g]=w;p[4*g+1]=w;p[4*g+2]=w;p[4*g+3]=w}var k=null,I=null,M=null,E=null,S=null;return{Id:function(J){r(J);return u},kc:function(J,K){t===l.N&&(typeof("undefined"!==K)&&(I=K),r(J));return t!==l.RGBA8},Yf:function(J){r(J);return t===l.cc},Be:function(J){r(J);return t===l.qa},Mf:function(J){r(J);return f.Yc},ge:function(J){r(J);
return f.Hc},m:function(){k=null;u=!0;t=l.N;I=null}}}(),Wa={instance:function(a){var c=R.instance(a.alpha),d=R.instance(a.beta);return{Xd:function(){c.g(1);d.g(2)}}}},bb={instance:function(a){var c=null,d=!1,h=!1,r=null,n=!1,l=!1,t=null,f="undefined"===typeof a.preprocessing?!1:a.preprocessing,u="undefined"===typeof a.preprocessingSize?a.size:a.preprocessingSize;a.mask&&(d=!0,b&&void 0!==b.Dd&&(a.mask=b.Dd+a.mask),c=R.instance({isFloat:!1,url:a.mask}));var z=!1;a.customInputShader&&(z="s44",G.dc({name:"_",
id:z,h:a.customInputShader,og:["uSource"],precision:"lowp"}),G.I(z,[{type:"1i",name:"_",value:0}]));switch(f){case "sobel":t="s31";n=!0;break;case "meanNormalization":t="s32";n=!0;break;case "grayScale":t="s28";n=!1;break;case "grayScaleTilt":t="s29";l=!0;n=!1;break;case "rgbGrayTilt":t="s30";l=!0;n=!1;break;case "copy":t=z?z:"s0";break;case "inputLightRegulation":t=z?z:"s28";r=$a.instance({Gc:u,Xc:a.size,Tc:a.nBlurPass,Ra:!1});h=!0;break;case "inputMix0":t="none";r=ab.instance({ha:u,xd:a.varianceMin,
jc:a.blurKernelSizePx,Ra:!1});h=!0;break;case "direct":case "none":t="abort";break;default:t="s3"}l&&G.I(t,[{name:"u26",type:"1f",value:a.tilt}]);d&&(t+="Mask");var p=R.instance({isFloat:!1,isPot:!1,width:a.size}),m={A:function(){return u},ub:function(){return m.A()},oe:function(){return h?r.vb():p},K:function(y){Sa.U();"abort"!==t&&("none"!==t&&(G.set(t),n&&G.L("u27",1/a.size),p.P(),d&&c.g(1),O.l(!1,!1),p.g(0),y=p),h&&r.process(y))},m:function(){p.remove();d&&c.remove()}};return m}},ib={instance:function(a){function c(e){r.forEach(function(L,
H){n[H][0]=e[0][L];n[H][1]=e[1][L];n[H][2]=e[2][L];n[H][3]=e[3][L]});return n}"undefined"===typeof a.normalize&&(a.normalize=!1);var d={input:null,Ea:null,Ab:null,S:null,Va:null,Nb:null,Ob:null},h=null,r=[],n=[],l=!1,t=null,f=!0,u=-1,z=a.isReorganize?a.isReorganize:!1,p=a.kernelsCount?!0:!1,m=a.dynPelu?Wa.instance(a.dynPelu):!1,y=m?!0:!1,w={isEnabled:!1};a.ze?(a.sparsity="undefined"!==typeof a.sparsity?a.sparsity:a.Xa.ub(),f=!1):"full"===a.connectivityUp&&(a.sparsity=a.Xa.ub());var g={elu:"s15",elu01:"s16",
relu:"s14",arctan:"s18",sigmoid:"s13",copy:"s0",softplus:"s19",dynPelu:"s17"}[a.activation],k=a.sparsity*a.sparsity,I=!1,M=a.size,E="";if(a.maxPooling){switch(a.maxPooling.size){case 2:E="s33";break;case 4:E="s34"}I=!0;M/=a.maxPooling.size;d.Nb=R.instance({isFloat:!0,isPot:!1,width:M})}var S=void 0!==a.Ge&&a.Ge?!0:!1,J=null,K=null,v=null;if(S){J="s45"+a.index.toString();G.Ec("s45",J,[((a.normalization.n-1)/2).toFixed(1)]);G.I(J,[{type:"1i",name:"u1",value:0},{type:"2f",name:"u7",value:[1/a.size,1/
a.size]},{type:"1f",name:"u6",value:a.normalization.alpha},{type:"1f",name:"u9",value:a.normalization.beta},{type:"1f",name:"u30",value:a.normalization.k}]);var q={isFloat:!0,isPot:!0,width:a.size};K=R.instance(q);v=R.instance(q)}var C=-1,N=null;f&&(d.S=R.instance({isFloat:!0,isPot:!1,width:a.size}));d.Ea=R.instance(a.bias);var Q={A:function(){return a.size},ub:function(){return M},yc:function(){return a.classesCount},Fd:function(e){h.g(e)},Ke:function(){a.remap&&a.remap.isEnabled&&(w={isEnabled:!0,
Ce:R.instance({isFloat:!1,isFlipY:!1,array:new Uint8Array(a.remap.maskTexture.data),width:a.remap.maskTexture.width,isPot:!1}),Ta:a.remap.layers.map(function(e){return a.parent.ke(e)}),depth:a.remap.depth})},af:function(){switch(a.connectivityUp){case "direct":N=cb.instance(a.connectivity);break;case "square":N=db.instance(a.connectivity);break;case "squareFast":N=fb.instance(a.connectivity,a.activation);break;case "full":N=gb.instance(a.connectivity);break;case "conv":u=a.kernelsCount,N=hb.instance(a.connectivity),
z&&(d.Va=R.instance({width:M,isFloat:!0,isFlipY:!1,isPot:!1}))}if(N.oa){var e=a.size*a.sparsity;C=Math.log(e/a.size)/Math.log(2);d.input=R.instance({isMipmap:!0,isFloat:!0,isPot:!0,width:e,Hb:C});d.Ab=R.instance({isFloat:!0,isPot:!0,width:a.size})}},K:function(e,L){h=e;N.oa?(d.input.P(),p&&d.Ea.g(2),N.K(w),d.input.g(0),d.input.ae(C),d.Ab.P(),p?G.set("s0"):(G.set("s27"),G.L("u25",k),d.Ea.g(1)),d.input.Gd(C,0),O.l(!1,!1),G.set(g),S?K.u():d.S.u(),d.Ab.g(0),y&&m.Xd(),O.l(!1,!1)):(d.S.P(),d.Ea.g(1),N.K());
S&&(G.set(J),v.u(),K.g(0),O.l(!1,!1),G.set("s46"),G.L("u6",1),d.S.u(),v.g(1),O.l(!1,!1));if(f)return I?(d.Nb.P(),d.S.g(0),G.set(E),G.fa("u7",1/a.size,1/a.size),O.l(!1,!1),L=d.Nb):L=d.S,L.g(0),z&&(d.Va.u(),G.set("s21"),G.fa("u12",u,M/u),O.l(!1,!1),L=d.Va,d.Va.g(0)),L;var H=d.S;a.normalize&&(G.set("gpuRawAvg"===l?"s8":"s7"),G.L("u4",1/a.size),d.Ob.P(),d.S.g(0),O.l(!1,!1),H=d.Ob);e=null;switch(l){case "cpuRGBA2Float":H.qb(!1);L?e=Q.Me(H).then(t):(H=Q.Ne(H),t(H));break;case "cpuMeanFloat":H.qb(!0);L?
e=H.Pe().then(t):(H=H.Qe(),t(H));break;case "gpuRawAvg":case "gpuRaw":H.g(0);case "none":null!==t&&t(H)}L&&null===e&&(e=Promise.resolve());return e},Od:function(e){e&&(l=e.Pb||"none",t=e.Mb||null);d.S=R.instance({isFloat:!0,isPot:!0,isMipmap:!1,width:a.size});e="undefined"!==typeof a.classesCount&&a.classesCount?a.classesCount:a.size*a.size;for(var L=0,H=0,P=0;L<e;++L)r.push(H+(a.size-1-P)*a.size),n.push([-1,-1,-1,-1]),++H,H===a.size&&(H=0,++P);a.normalize&&(d.Ob=R.instance({isFloat:!0,isPot:!0,width:a.size}))},
Me:function(e){return e.Oe().then(c)},Ne:function(e){e=e.Qb();c(e);return n},m:function(){for(var e in d){var L=d[e];L&&L.remove()}N&&(N.m(),N=null)}};a.Xa&&Q.af(a.Xa);return Q}};
function jb(a){var c=null,d=null,h=null,r=0;this.s=function(n){this.Ze(n.Ta);h.Od({Pb:n.Pb,Mb:n.Mb})};this.ke=function(n){return c[n]};this.Ze=function(n){var l=null;r=n.length;c=n.map(function(t,f){t=Object.assign({},t,{index:f,parent:this,Xa:l,ze:f===r-1});return l=f=0===f?bb.instance(t):ib.instance(t)});d=c[0];h=c[r-1];c.forEach(function(t,f){0!==f&&t.Ke()})};this.K=function(n){var l=n;c.forEach(function(t){l=t.K(l,!1)});return l};this.ie=function(){return d.A()};this.pe=function(){return h.A()};
this.vb=function(){return h.oe()};this.yc=function(){return h.yc()};this.m=function(){c&&(c.forEach(function(n){n.m()}),h=d=c=null,r=0)};"undefined"!==typeof a&&this.s(a)}
var cb={instance:function(a){var c=R.instance(a.weights);return{oa:!0,Ma:function(){return 1},m:function(){c.remove()},qe:function(){return c},K:function(){G.set("s26");c.g(1);O.l(!1,!1)}}}},gb={instance:function(a){var c=a.fromLayerSize,d=R.instance(a.weights);return{oa:!0,Ma:function(){return c},m:function(){d.remove()},K:function(h){if(h.isEnabled){G.set("s24");h.Ce.g(3);var r,n=Math.min(h.Ta.length,h.depth);for(r=0;r<n;++r)h.Ta[r].Fd(4+r)}else G.set("s23");G.L("u16",a.toLayerSize);d.g(1);O.l(!1,
!1)}}}},db={instance:function(a){for(var c=a.fromLayerSize,d=a.toLayerSize,h=a.toSparsity,r=h*d,n=r/c,l=c/d,t=0,f=0,u=0,z=Array(h*d*h*d*4),p=Array(h*d*h*d*4),m=Array(c*c),y=0;y<m.length;++y)m[y]=0;y=Math.floor(h/2);for(var w=.5/d,g=.5/c,k=.5/r,I=0;I<d;++I)for(var M=Math.round(I*l),E=0;E<d;++E){var S=Math.round(E*l),J=I/d,K=E/d;J+=w;K+=w;for(var v=0;v<h;++v){var q=M+v-y;0>q&&(q+=c);q>=c&&(q-=c);for(var C=0;C<h;++C){var N=t/r,Q=f/r,e=S+C-y;0>e&&(e+=c);e>=c&&(e-=c);var L=q/c,H=e/c;Q=1-Q-1/r;L+=g;H+=
g;N+=k;Q+=k;var P=I*h+v,aa=E*h+C;aa=d*h-aa-1;P=aa*d*h+P;z[4*P]=N;z[4*P+1]=Q;z[4*P+2]=L;z[4*P+3]=H;H=m[e*c+q]++;P=H%n;L=q*n+P;e=e*n+(H-P)/n;e=c*n-1-e;e=e*c*n+L;p[4*e]=N;p[4*e+1]=Q;p[4*e+2]=J;p[4*e+3]=K;++t>=r&&(t=0,++f);++u}}}m=null;var V=R.instance(a.weights);delete a.weights.data;var la=R.instance({width:r,isFloat:!0,array:new Float32Array(p),isPot:!0});p=null;var x=R.instance({width:r,isFloat:!0,array:new Float32Array(z),isPot:!0});z=null;return{oa:!0,Ma:function(){return n},m:function(){la.remove();
x.remove();V.remove()},K:function(){G.set("s22");V.g(1);x.g(2);O.l(!1,!1)}}}},hb={instance:function(a){var c=a.kernelsCount,d=a.toSparsity,h=d*a.toLayerSize/a.fromLayerSize,r=R.instance(a.weights);return{oa:!0,Ma:function(){return h},Sf:function(){return d},qe:function(){return r},m:function(){r.remove()},K:function(){G.set("s25");G.L("u22",c);G.L("u23",d);G.L("u16",a.toLayerSize);G.L("u24",a.fromLayerSize);r.g(1);O.l(!1,!1)}}}},fb={instance:function(a,c){var d=a.fromLayerSize,h=a.toLayerSize,r=a.toSparsity,
n=a.stride?a.stride:1,l=r*h/d,t=h<d,f=d/h,u=R.instance(a.weights),z="s47"+[d.toString(),h.toString(),r.toString(),n.toString(),c].join("_");G.$d(z)||(a=Ja(c),h=[{type:"1f",name:"u16",value:h},{type:"1f",name:"u29",value:n}],t&&h.push({type:"1f",name:"u24",value:d}),d=[(t?l:r).toFixed(1),a],t&&d.push(f.toFixed(1)),G.Ec(t?"s39":"s38",z,d),G.I(z,h.concat([{type:"1i",name:"u14",value:0},{type:"1i",name:"u21",value:1},{type:"1i",name:"u13",value:3}])));return{oa:!1,Ma:function(){return l},m:function(){u.remove()},
K:function(){G.set(z);u.g(3);O.l(!1,!1)}}}},$a={instance:function(a){var c=a.Tc?a.Tc:3,d=a.Gc?a.Gc:64,h=a.Xc?a.Xc:64,r=a.Ra?!0:!1;a={isFloat:!1,width:d,isPot:!1,isFlipY:!1};var n=R.instance(a),l=R.instance(a),t=R.instance(a),f=R.instance(a),u=R.instance({isFloat:!0,width:h,isPot:!1,isFlipY:!1}),z=1/d;return{process:function(p){G.set("s35");f.u();O.l(r,!1);G.set("s36");for(var m=0;m<c;++m)n.u(),G.fa("u7",z,0),O.l(r,!1),t.u(),f.g(0),O.l(r,!1),l.u(),n.g(0),G.fa("u7",0,z),O.l(r,!1),f.u(),t.g(0),O.l(r,
!1),m!==c-1&&l.g(0);G.set("s37");u.u();p.g(0);l.g(1);f.g(2);O.l(r,!1);u.g(0)},vb:function(){return u}}}},ab={instance:function(a){function c(u){return R.instance({isFloat:u,width:d.ha,isPot:!1,isFlipY:!1})}var d=Object.assign({xd:.1,jc:9,ha:128,Ra:!1},a),h=c(!1),r=[c(!1),c(!1),c(!1)],n=[c(!1),c(!1),c(!1)],l=c(!0),t=[h,n[0],n[1]];a="uniform sampler2D u1;const float e=1.1111,g=2.2222;uniform vec2 u31;varying vec2 vv0;void main(){float b=0.,c=0.;for(float a=-e;a<=e;a+=1.){vec2 i=u31*a,j=vv0+i*g;float d=1.2*a/e,f=exp(-d*d);b+=f*texture2D(u1,j).r,c+=f;}b/=c,gl_FragColor=vec4(b,0.,0.,1.);}".replace("1.1111",
Math.round((d.jc-1)/2).toFixed(2)).replace("2.2222",(1/d.ha).toFixed(6));var f={u1:0};G.ec([{id:"s49",name:"_",h:"uniform sampler2D u1;varying vec2 vv0;const vec3 f=vec3(.2126,.7152,.0722),g=vec3(1.,1.,1.);void main(){vec3 b=texture2D(u1,vv0).rgb;float a=dot(b,f);gl_FragColor=vec4(a,a,a,a);}",j:f,i:["u1"],precision:"lowp"},{id:"s50",name:"_",h:a,j:f,i:["u1","u31"],precision:"lowp"},{id:"s51",name:"_",h:"uniform sampler2D u32,u33,u34,u35;const float f=1.1111;const vec3 g=vec3(1.,1.,1.);varying vec2 vv0;void main(){vec3 a=texture2D(u32,vv0).rgb;float c=texture2D(u33,vv0).r,d=texture2D(u34,vv0).r,h=texture2D(u35,vv0).r,i=a.r*a.r;vec3 b=vec3(c,d,h),j=max(g*f,abs(i-b*b)),k=sqrt(j);gl_FragColor=vec4(a.r,(a-b)/k);}".replace("1.1111",
d.xd.toFixed(4)),j:{u32:0,u33:1,u34:2,u35:3},i:["u32","u33","u34","u35"],precision:"highp"}]);return{process:function(){G.set("s49");h.P();O.l(d.Ra,!1);G.set("s50");for(var u=0;3>u;++u)G.fa("u31",1,0),r[u].u(),t[u].g(0),O.l(!1,!1),G.fa("u31",0,1),n[u].u(),r[u].g(0),O.l(!1,!1);G.set("s51");l.u();h.g(0);n[0].g(1);n[1].g(2);n[2].g(3);O.l(!1,!1);l.g(0)},vb:function(){return l}}}};function kb(a,c){a[c]=!0;a.setAttribute(c,"true")}
function lb(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}function mb(){var a=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return a&&a.length&&2<a.length?[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3]||0,10)]:[0,0,0]}function nb(){var a=navigator.userAgent.toLowerCase();return-1!==a.indexOf("safari")&&-1===a.indexOf("chrome")?!0:!1}function ob(){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?!0:!1}
function pb(a){if(!a)return a;var c=null;if(a.video){var d=function(h){return h&&"object"===typeof h?Object.assign({},h):h};c={};"undefined"!==typeof a.video.width&&(c.width=d(a.video.width));"undefined"!==typeof a.video.height&&(c.height=d(a.video.height));"undefined"!==typeof a.video.facingMode&&(c.facingMode=d(a.video.facingMode))}c={audio:a.audio,video:c};"undefined"!==typeof a.deviceId&&qb(c,a.deviceId);return c}
function qb(a,c){c&&(a.video=a.video||{},a.video.deviceId={exact:c},a.video.facingMode&&delete a.video.facingMode)}function sb(a){var c=a.video.width;a.video.width=a.video.height;a.video.height=c;return a}
function tb(a){function c(m){return[480,576,640,648,720,768,800,960,1080,1152,1280,1366,1920].sort(function(y,w){return Math.abs(y-m)-Math.abs(w-m)})}function d(m){var y=pb(a);m=m(y);r.push(m);h(m)}function h(m){if(m.video&&m.video.facingMode&&m.video.facingMode.exact){var y=m.video.facingMode.exact;m=pb(m);delete m.video.facingMode.exact;m.video.facingMode.ideal=y;r.push(m)}}var r=[];if(!a||!a.video)return r;h(a);if(a.video.width&&a.video.height){if(a.video.width.ideal&&a.video.height.ideal){var n=
c(a.video.width.ideal).slice(0,3),l=c(a.video.height.ideal).slice(0,3),t={},f=0;for(t.ba=void 0;f<n.length;t={ba:t.ba},++f){t.ba=n[f];var u={},z=0;for(u.aa=void 0;z<l.length;u={aa:u.aa},++z)if(u.aa=l[z],t.ba!==a.video.width.ideal||u.aa!==a.video.height.ideal){var p=Math.max(t.ba,u.aa)/Math.min(t.ba,u.aa);p<4/3-.1||p>16/9+.1||d(function(m,y){return function(w){w.video.width.ideal=m.ba;w.video.height.ideal=y.aa;return w}}(t,u))}}}d(function(m){return sb(m)})}a.video.width&&a.video.height&&(a.video.width.ideal&&
a.video.height.ideal&&d(function(m){delete m.video.width.ideal;delete m.video.height.ideal;return m}),d(function(m){delete m.video.width;delete m.video.height;return m}));a.video.facingMode&&(d(function(m){delete m.video.facingMode;return m}),a.video.width&&a.video.height&&d(function(m){sb(m);delete m.video.facingMode;return m}));r.push({audio:a.audio,video:!0});return r}
function ub(a){try{var c=window.matchMedia("(orientation: portrait)").matches?!0:!1}catch(h){c=window.innerHeight>window.innerWidth}if(c&&a&&a.video){c=a.video.width;var d=a.video.height;c&&d&&c.ideal&&d.ideal&&c.ideal>d.ideal&&(a.video.height=c,a.video.width=d)}}
function vb(a){a.volume=0;kb(a,"muted");if(nb()){if(1===a.volume){var c=function(){a.volume=0;window.removeEventListener("mousemove",c,!1);window.removeEventListener("touchstart",c,!1)};window.addEventListener("mousemove",c,!1);window.addEventListener("touchstart",c,!1)}setTimeout(function(){a.volume=0;kb(a,"muted")},5)}}
function wb(a,c,d,h){function r(l){n||(n=!0,d(l))}var n=!1;navigator.mediaDevices.getUserMedia(h).then(function(l){function t(){setTimeout(function(){if(a.currentTime){var u=a.videoWidth,z=a.videoHeight;if(0===u||0===z)r("VIDEO_NULLSIZE");else{u&&(a.style.width=u.toString()+"px");z&&(a.style.height=z.toString()+"px");u={Kd:null,df:null,De:null};try{var p=l.getVideoTracks()[0];p&&(u.De=p,u.Kd=p.getCapabilities(),u.df=p.getSettings())}catch(m){}nb()||lb()?a.parentNode&&null!==a.parentNode?(n||c(a,l,
u),setTimeout(function(){a.play()},100)):(document.body.appendChild(a),vb(a),n||c(a,l,u),setTimeout(function(){a.style.transform="scale(0.0001,0.0001)";a.style.position="fixed";a.style.bottom="0px";a.style.right="0px";vb(a);setTimeout(function(){a.play()},100)},80)):n||c(a,l,u)}}else r("VIDEO_NOTSTARTED")},700)}function f(){a.removeEventListener("loadeddata",f,!1);var u=a.play();vb(a);"undefined"===typeof u?t():u.then(function(){t()}).catch(function(){r("VIDEO_PLAYPROMISEREJECTED")})}"undefined"!==
typeof a.srcObject?a.srcObject=l:(a.src=window.URL.createObjectURL(l),a.videoStream=l);vb(a);a.addEventListener("loadeddata",f,!1)}).catch(function(l){r(l)})}
function xb(a,c,d){var h=ob()?document.createElement("video"):!1;if(h)if(ob()){if(d&&d.video){if(lb()){var r=mb();0!==r[0]&&(12>r[0]||12===r[0]&&2>r[1])&&ub(d)}d.video.width&&d.video.width.ideal&&(h.style.width=d.video.width.ideal+"px");d.video.height&&d.video.height.ideal&&(h.style.height=d.video.height.ideal+"px")}kb(h,"autoplay");kb(h,"playsinline");d&&d.audio?h.volume=0:kb(h,"muted");wb(h,a,function(){function n(t){if(0===t.length)c("INVALID_FALLBACKCONSTRAINTS");else{var f=t.shift();wb(h,a,function(){n(t)},
f)}}var l=tb(d);n(l)},d)}else c&&c("MEDIASTREAMAPI_NOTFOUND");else c&&c("VIDEO_NOTPROVIDED")}
var yb=function(){function a(y,w,g,k,I,M){if(M===I.length)k();else{switch(I[M]){case "D":y();break;case "S":w().then(function(){m.td();a(y,w,g,k,I,++M)}).catch(k);return;case "R":g()}a(y,w,g,k,I,++M)}}var c={n:5,Jb:1,Rc:0,Ka:[35,49],Ha:[2,200],k:.7,lf:200,Je:.05},d=-1,h=null,r=-1,n=-1,l=0,t=-1,f=-1,u=0,z=0,p=c.Ha[1],m={le:function(){switch(d){case -1:return-1;case 0:return f+h.Rc;case 1:return u}},ce:function(y){return Math.pow(Math.min(Math.max(t,0),h.n-1)/(h.n-1),y||1)},s:function(y){h=Object.assign({},
c,y);t=f=h.Jb;d=0;m.reset()},td:function(y){y=("undefined"===typeof y?Date.now():y)||0;var w=Math.min(Math.max(y-z,h.Ha[0]),h.Ha[1]);p=w;z=y;var g=-1===r?0:h.k;r=Math.min(Math.max(1E3/w,5),120)*(1-g)+r*g;y-n>h.lf&&5<++l&&(w=h.k,t=t*(1-w)+(r<h.Ka[0]?f-1:r>h.Ka[1]?f+1:f)*w,Math.abs(t-f)>1-h.Je&&(w=Math.min(Math.max(Math.round(t),0),h.n-1),w!==f&&(t=f=w,r=(h.Ka[1]-h.Ka[0])/2)),n=y)},gd:function(y,w,g,k,I){a(y,w,g,k,I,0)},Ye:function(y){u=y;d=1},kf:function(){d=0;m.reset()},reset:function(){p=c.Ha[1];
n=r=-1;l=0},Jf:function(){return p}};return m}(),zb=function(){var a={Vc:4,Wa:[1.5,1.5,2],ga:[.1,.1,.1],jd:1,ha:-1,xb:-1,ff:2,Ie:1,ld:!0,Yd:.8},c=null,d=[],h=0,r=[.5,.5,1];return{s:function(n){c=Object.assign({},a,n);d.splice(0);n=c.Wa[0]*c.ga[0];var l=c.Wa[1]*c.ga[1],t=1/(1+c.Wa[2]*c.ga[2]),f=c.jd*Math.min(c.ha,c.xb),u=f/c.ha;f/=c.xb;var z=.5*c.Yd;z*=z;for(var p=0;p<c.Vc;++p){var m=Math.pow(t,p),y=u*m,w=f*m;m=y*n;var g=w*l,k=y/2;w/=2;for(var I=1+(1-k-k)/m,M=1+(1-w-w)/g,E=0;E<M;++E)for(var S=w+E*
g,J=S-.5,K=0;K<I;++K){var v=k+K*m,q=v-.5;q*q+J*J>z||d.push([v,S,y*c.Ie])}}c.ld&&d.sort(function(C,N){var Q=C[0]-.5;C=C[1]-.5;var e=N[0]-.5;N=N[1]-.5;return Q*Q+C*C-(e*e+N*N)})},get:function(){var n=d.length;if(0===n)return r;h>=n&&(h=0);var l=d[Math.floor(h)];h=(h+1/c.ff)%n;return l}}}(),Ab=function(){function a(){d(p+u.Ib);m.port.postMessage("DONE")}function c(){g.Ca=0===u.ja?window.requestAnimationFrame(d):window.requestAnimationFrame(h)}function d(E){w.ma&&null!==z&&(E-=p,E=Math.min(Math.max(E,
u.mc[0]),u.mc[1]),p+=E,n(),z(p))}function h(E){w.ma&&(g.timeout=window.setTimeout(d.bind(null,E),u.ja))}function r(){z=null;w.ma=!1;n()}function n(){g.Ca&&(window.cancelAnimationFrame(g.Ca),g.Ca=null);g.timeout&&(window.clearTimeout(g.timeout),g.timeout=null)}function l(E){E&&!w.X?(w.X=!0,y&&yb.kf(),m.port.postMessage("STOP"),Ra.ud(!0),c()):!E&&w.X&&(w.X=!1,y&&yb.Ye(1),Ra.ud(!1),m.port.postMessage("START"))}function t(E){E.target.hidden?I():k()}var f={Lc:!0,mc:[1,200],Ib:20,ja:0},u=null,z=null,p=
0,m=null,y=!1,w={da:!1,X:!0,Fb:!1,Eb:!1,Cb:!1,ma:!1},g={Ca:null,timeout:null},k=l.bind(null,!0),I=l.bind(null,!1),M={s:function(E){u=Object.assign(f,E);Object.assign(w,{X:!0,da:!0,ma:!1});if(u.Lc){E=!1;try{if("undefined"===typeof SharedWorker){var S=URL.createObjectURL(new Blob(["let handler = null;\n      self.addEventListener('message', function(e){\n        if (handler !== null){\n          clearTimeout(handler);\n          handler = null;\n        }\n        switch (e.data) {\n          case 'START':\n          case 'DONE':\n            handler = setTimeout(function(){\n              self.postMessage('TICK');\n            }, "+
u.Ib.toString()+");\n            break;\n          case 'STOP':\n            break;\n        };\n      }, false);"],{type:"text/javascript"})),J=new Worker(S);J.addEventListener("message",a);m={Zc:J,port:J};w.Fb=!0}else{var K=URL.createObjectURL(new Blob(["let handler = null;\n      onconnect = function(e) {\n        const port = e.ports[0];\n        port.addEventListener('message', function(e) {\n          \n          if (handler !== null){\n            clearTimeout(handler);\n            handler = null;\n          }\n          switch (e.data) {\n            case 'START':\n            case 'DONE':\n              handler = setTimeout(function(){\n                port.postMessage('TICK');\n              }, "+
u.Ib.toString()+");\n              break;\n            case 'STOP':\n              break;\n          };\n          \n        });\n        \n        port.start();\n      } // end onconnect()"],{type:"text/javascript"})),v=new SharedWorker(K);v.port.start();v.port.addEventListener("message",a);m={Zc:v,port:v.port};w.Eb=!0}E=!0}catch(q){}E&&("onvisibilitychange"in document?document.addEventListener("visibilitychange",t):(window.addEventListener("blur",I),window.addEventListener("focus",k)),w.Cb=!0)}y=
"undefined"!==typeof yb},m:function(){r();w.Cb&&("onvisibilitychange"in document?document.removeEventListener("visibilitychange",t):(window.removeEventListener("blur",I),window.removeEventListener("focus",k)),w.Cb=!1);w.Eb?(m.port.close(),w.Eb=!1):w.Fb&&(m.Zc.terminate(),w.Fb=!1);Object.assign(w,{X:!0,da:!1,ma:!1});z=null},bg:function(){return w.X},update:function(E){Object.assign(u,E)},gd:function(E){w.da||M.s({});n();w.ma=!0;z=E;w.X&&c()},stop:r};return M}(),Bb=function(){var a=0,c=null,d=null,
h=null,r=null;return{s:function(n,l){a=n.length;c=l;d=n;h=new Float32Array(a);r=new Float32Array(a)},me:function(){return r},ef:function(n,l,t){n.forEach(function(f,u){var z=Math.min(1,d[u]*t*(l+.33*(1-l)));f=z*f+(1-z)*h[u];h[u]=f;r[u]=c[u](f)})}}}(),Y={VERSION:"1.2.6",ia:[],hb:!1,ib:!1,gb:!1,Ba:!0,Aa:!1,ready:!1,initialized:!1},Cb={facingMode:"user",idealWidth:800,idealHeight:600,minWidth:240,maxWidth:1280,minHeight:240,maxHeight:1280,isAudio:!0},b={neuralNetworkPath:"jeelizFaceExpressionsNNC.json",
bc:"../../",ja:0,width:512,height:512,gf:30,kd:[.6,5.8],ga:[.06,.08,.15],Xe:.7,Ve:2,We:[2,2,2],threshold:.7,Bd:[.03,1],rf:20,te:!1,fb:[2,7],H:{Cc:[3,7],quality:[0,6],position:[0,7],rotation:[5,7]},Uc:11,Sc:1,Ee:1,fc:[.1,.01],Te:[.4,-.7,-.4],Ue:[.3,0,0],Wd:!1,Cd:.001,hc:[Math.PI/10,Math.PI/6],ad:[.1,.4],bd:[.009,.02],cd:[.02,.04],Kb:5,Dc:.05,Ad:[.2,.2,.15,.15,.15,.15,1,.2,.15,.15,.2],Fe:[Ia.bind(null,.1,.7),Ia.bind(null,.1,.7),Ia.bind(null,0,.4),Ia.bind(null,0,.4),Ia.bind(null,.05,.6),Ia.bind(null,
.05,.6),Ia.bind(null,.02,.3),Ia.bind(null,.3,.5),Ia.bind(null,.7,.8),Ia.bind(null,.7,.8),Ia.bind(null,.15,.5)]};Y.get_nMorphs=function(){return b.Uc};var Db=null,Eb=null,Fb=null,Gb=[];
function Hb(){function a(){1===++L&&(Bb.s(b.Ad,b.Fe),c(),Y.ready=!0,Y.ia.forEach(function(A){A()}),Y.ia.splice(0,Y.ia.length),d(),L=0)}function c(){M=Da();E=new Uint8Array(w*w*4);Y.get_morphTargetInfluences=function(){return M};Y.get_morphTargetInfluencesStabilized=function(){return Bb.me()};Y.set_morphUpdateCallback=function(A){S=A};Y.get_rotation=function(){return v};Y.get_positionScale=function(){var A=k.rd.je();A.qb(!1);A=A.Qb();N[0]=1-A[1][0];N[1]=A[2][0];N[2]=A[3][0]*g[0];return N};Y.get_rotationStabilized=
function(){return C};Y.switch_sleep=function(A){P!==H.Vb||A?P=A?H.Vb:H.play:d()};Y.on_detect=function(A){A(aa.R);aa.Lb.push(A)};Y.is_detected=function(){return aa.R};Y.set_animateDelay=function(A){m=A;Ab.update({ja:m})}}function d(){P!==H.play&&(P=H.play,Ab.stop(),h())}function h(){var A,F;return Aa(new ua(new ka(function(ca){switch(ca.Z){case 1:a:{if("VIDEO"===e.element.nodeName){var X=e.element.currentTime-la;0>X&&(la=e.element.currentTime);if(1E3*X<b.rf)break a;la+=X}e.pa.refresh();X=x.Ac();X[0]===
e.Fa[0]&&X[1]===e.Fa[1]||x.wd()}A=yb.le();F=0;case 2:if(!(F<A)){ca.Z=4;break}X=k;var qa=y;G.set("s53");Sa.U();X.Pa.P();e.pa.g(0);X.ab.g(1);O.l(!1,!1);X.Pa.g(0);qa.K(X.Pa);b.te?X=R.Se(J,E).then(r):(R.Re(J,E),r(),X=Promise.resolve());ca.Z=3;return{value:X};case 3:++F;ca.Z=2;break;case 4:X=k,Sa.U(),I.P(),G.set("s56"),X.ab.g(0),O.l(!1,!1),X=yb.ce(),Q=3*(1-X)+1*X,yb.td(),Y.Ba&&(Sa.jf(),G.set("s52"),e.pa.g(0),O.l(!1,!1),D.enable(D.BLEND),D.blendFunc(D.SRC_ALPHA,D.ONE),I.g(0),O.l(!1,!1),D.disable(D.BLEND)),
D.flush(),P!==H.Vb&&Ab.gd(h),ca.Z=0}})))}function r(){t();if(!b.Wd&&aa.R)for(var A=0;3>A;++A){var F=l(A+b.H.rotation[0],b.H.rotation[1]);F=(2*F-1)*b.Te[A];F+=b.Ue[A];K[A]=F}n();A=Date.now();F=A-V.Pc;var ca=l(b.H.quality[0],b.H.quality[1]);V.$c=Ia(b.ad[0],b.ad[1],ca);ca=l(b.H.position[0],b.H.position[1]);var X=l(b.H.position[0]+1,b.H.position[1]),qa=l(b.H.position[0]+2,b.H.position[1]);V.hd=1-Ia(b.cd[0],b.cd[1],Math.sqrt(ca*ca+X*X+qa*qa)/F);ca=V.na[0]-K[0];X=V.na[1]-K[1];qa=V.na[2]-K[2];F=Math.sqrt(ca*
ca+X*X+qa*qa)/F;V.na[0]=K[0];V.na[1]=K[1];V.na[2]=K[2];V.dd=1-Ia(b.bd[0],b.bd[1],F);V.O=V.$c*V.hd*V.dd;V.Pc=A;V.Oc[V.Gb]=V.O;V.Gb=(V.Gb+1)%b.Kb;for(A=0;A<b.Kb;++A)V.O=Math.min(V.Oc[A],V.O);Bb.ef(M,V.O,Q);S&&S(V.O,Q);if(aa.R)for(A=b.fc[1]*V.O+b.fc[0]*(1-V.O),A*=Q,F=0;3>F;++F)v[F]=A*K[F]+(1-A)*v[F],C[F]=v[F];else A=Date.now()*b.Cd,q[0]=b.hc[0]*Math.sin(A),q[1]=b.hc[1]*Math.cos(A),C[0]=q[0],C[1]=q[1],C[2]=q[2]}function n(){var A=l(b.H.Cc[0],b.H.Cc[1]);aa.Qa=b.Dc*A+(1-b.Dc)*aa.Qa;.6<aa.Qa&&!aa.R?(aa.Lb.forEach(function(F){F(!0)}),
aa.R=!0):.4>aa.Qa&&aa.R&&(aa.Lb.forEach(function(F){F(!1)}),aa.R=!1)}function l(A,F){A+=w*F;return(E[4*A]+E[4*A+1]+E[4*A+2]+E[4*A+3])/1020}function t(){M.forEach(function(A,F){if(aa.R){A=(b.Sc+F)%w;var ca=b.Ee+Math.floor((b.Sc+F)/w);ca=w-1-ca;A=l(A,ca);M[F]=A}else M[F]=0})}function f(A){y=new jb({Ta:A.layers,Pb:"gpuRaw",Mb:function(F){var ca=k;ca.ab.od(1);D.viewport(0,0,1,1);G.set("s54");G.L("u36",V.O);G.pd("u37",zb.get());G.pd("u38",b.ga);O.l(!1,!1);ca.rd.od(1);G.set("s55");G.L("u36",V.O);ca.ab.g(0);
O.l(!1,!1);J=F}});A=y.ie();A!==p&&(p=A,x.Fc(),k.Pa.resize(p,p),x.qd());w=y.pe();a()}var u=-1,z=-1,p=64,m=b.ja,y=null,w=0,g=null,k={},I=null,M=null,E=null,S=null,J=null,K=[0,0,0],v=[0,0,0],q=[0,0,0],C=[0,0,0],N=[0,0,0],Q=1,e={qf:[.5,.5],pf:[.5,.5],element:null,pa:null,Fa:[-1,-1]},L=0,H={Sd:-4,He:-3,cg:-2,Vb:-1,play:0},P=H.He,aa={Qa:0,R:!1,Lb:[]},V={O:1,hd:1,$c:1,dd:1,na:[0,0,0],Pc:Date.now(),Oc:new Float32Array(b.Kb),Gb:0},la=0,x={Fc:function(){u=b.width;z=b.height;zb.s({Wa:b.We,Vc:b.Ve,ha:u,xb:z,
jd:b.Xe,ga:b.ga,ld:!0});g=[1,u/z]},qd:function(){G.I("s52",[{type:"1i",name:"u1",value:0}]);G.I("s53",[{type:"1i",name:"u1",value:0},{type:"1i",name:"u39",value:1},{type:"2f",name:"u40",value:g}]);G.I("s56",[{type:"1i",name:"u39",value:0},{type:"2f",name:"u40",value:g},{type:"3f",name:"u41",value:[0,.5,1]}]);G.I("s54",[{type:"1i",name:"u42",value:0},{type:"1i",name:"u39",value:1},{type:"1f",name:"u43",value:b.kd[0]},{type:"1f",name:"u44",value:b.kd[1]},{type:"1f",name:"u45",value:b.gf},{type:"1f",
name:"u46",value:b.threshold},{type:"1f",name:"u47",value:g[0]}]);G.I("s55",[{type:"1i",name:"u1",value:0},{type:"1i",name:"u5",value:1},{type:"2f",name:"u48",value:b.Bd}])},Pd:function(){G.ec([{id:"s52",name:"_",za:"attribute vec2 a0;uniform vec2 u49,u50;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=u50+u49*a0;}",Da:["a0"],sa:[2],h:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:["u1","u49","u50"],precision:"lowp"},{id:"s53",name:"_",h:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",
za:"attribute vec2 a0;uniform sampler2D u39;uniform vec2 u40,u49,u50;const vec2 f=vec2(.25,.5),i=vec2(.75,.5),e=vec2(.5,.5);varying vec2 vv0;void main(){vec4 a=texture2D(u39,f);vec2 b=a.gb,c=a.a*u40,d=a0*.5+e,h=b+(d-e)*c;vv0=u50+u49*2.*(h-.5),gl_Position=vec4(a0,0.,1.);}",Da:["a0"],sa:[2],i:["u1","u39","u40","u49","u50"],precision:"lowp"},{id:"s54",name:"_",za:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",h:"uniform sampler2D u42,u39;uniform vec3 u37,u38;uniform float u43,u44,u45,u46,u47,u36;varying vec2 vv0;const vec4 e=vec4(.25,.25,.25,.25);void main(){vec4 c=texture2D(u42,vec2(.4375,.9375)),d=texture2D(u42,vec2(.5625,.9375));float f=dot(c-d,e);bool g=f>u46;vec4 a=texture2D(u39,vec2(.5,.5));g?a.r=2.:a.r>u45?a.r=0.:a.r>1.9&&(a.a>u44||a.a<u43)?a.r=0.:a.r>1.9?a.r+=1.:0.;if(a.r<.9)a.gba=u37,a.r=1.;else{float h=dot(e,texture2D(u42,vec2(.0625,.9375))),i=dot(e,texture2D(u42,vec2(.1875,.9375))),j=dot(e,texture2D(u42,vec2(.3125,.9375))),b;if(a.r>1.9)b=1.-u36;else b=1.,a.r=0.;float k=a.a*u47;a.gba+=vec3(h,i,j)*u38*b*k;}gl_FragColor=a;}",
i:"u42 u39 u37 u43 u44 u45 u46 u38 u47 u36".split(" ")},{id:"s56",name:"_",h:"uniform sampler2D u39;uniform vec3 u41;uniform vec2 u40;varying vec2 vv0;const vec2 i=vec2(1.,1.);void main(){vec4 f=texture2D(u39,vec2(.25,.5));vec2 g=f.gb;float j=f.a;vec2 a=j*u40,c=g+a,d=g;d-=a/2.,c-=a/2.;vec2 k=.5*(d+c),h=step(d,vv0)*step(vv0,c);float l=h.x*h.y;vec2 b=2.*abs(k-vv0)/a;b=pow(b,3.*i),gl_FragColor=vec4(l*u41*max(b.x,b.y),1.);}",i:["u39","u40","u41"],precision:"lowp"},{id:"s55",name:"_",h:"uniform sampler2D u1,u5;uniform vec2 u48;uniform float u36;const vec4 f=vec4(1.,1.,1.,1.);varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0),b=texture2D(u5,vv0);float c=(1.-u36)*(u48.y-u48.x)+u48.x;gl_FragColor=mix(b,a,c*f);}",
i:["u1","u5","u48","u36"]}])},se:function(A){var F=new Float32Array([0,.5,.5,0]);A.Pa=R.instance({isPot:!0,isFloat:!1,width:p});F={width:1,height:1,isFloat:!0,isPot:!1,array:F};A.ab=Va.instance(F);A.rd=Va.instance(F)},Qd:function(){e.pa=R.instance({C:e.element,isPot:!1,isFloat:!1,isFlipY:!0});I=R.instance({isPot:!1,isFloat:!1,width:u,height:z})},s:function(){x.Qd();x.se(k);Ab.s({Lc:!1,ja:m});yb.s({Jb:0,n:b.fb[1]-b.fb[0]+1,Rc:b.fb[0]});Fb?f(Fb):Ca(function(A){A=JSON.parse(A);f(A)})},m:function(){Ab.stop();
y&&(y.m(),y=null);P=H.Sd},Ld:function(A){Y.hb&&Y.hb();var F={video:{facingMode:{ideal:Cb.facingMode},width:{min:Cb.minWidth,max:Cb.maxWidth,ideal:Cb.idealWidth},height:{min:Cb.minHeight,max:Cb.maxHeight,ideal:Cb.idealHeight}},audio:Cb.isAudio};qb(F,Cb.deviceId);xb(function(ca,X){Db=X;Y.ib&&Y.ib();A(ca)},function(){window.eb&&window.eb("WEBCAM_UNAVAILABLE")},F)},Qc:function(A,F){x.Pd();e.element=A;Eb=e.element;x.wd();x.Fc();x.qd();x.s();F&&F()},Ac:function(){var A=[-1,-1],F=e.element;"VIDEO"===F.nodeName?
(A[0]=F.videoWidth,A[1]=F.videoHeight):(A[0]=F.width,A[1]=F.height);return A},wd:function(){var A=x.Ac();e.Fa[0]=A[0];e.Fa[1]=A[1];Ua.La().width=A[0];Ua.La().height=A[1];b.width=A[0];b.height=A[1];var F=e.qf,ca=e.pf,X=A[1]/A[0];A=Ua.J()/Ua.A();X>A?1>=X?F[0]*=X:F[1]/=X:(F[0]*=X,X=1/A,F[0]*=X,F[1]*=X);F[1]*=A;F=[{type:"2f",name:"u49",value:F},{type:"2f",name:"u50",value:ca}];G.I("s53",[{type:"1i",name:"u1",value:0}].concat(F));G.I("s52",F)}};Gb.push(x);return x}Y.onLoad=function(a){Y.ready?a():Y.ia.push(a)};
Y.switch_displayVideo=function(a){Y.Ba=a;Y.Aa&&(Y.Aa.style.display=Y.Ba?"block":"none")};Y.onWebcamAsk=function(a){Y.hb=a};Y.onContextLost=function(a){Y.gb=a};Y.onWebcamGet=function(a){Y.ib=a};Y.destroy=function(){Ab.m();Eb&&Eb.srcObject&&Eb.srcObject.getTracks().forEach(function(a){a.stop()});Gb.forEach(function(a){a.m()});Gb.splice(0);Ua.m();Y.switch_displayVideo(!1);Y.initialized=!1;Y.ia.splice(0)};Y.set_size=function(a,c){b.width=a;b.height=c};Y.get_size=function(){return{width:b.width,height:b.height}};
Y.get_videoStream=function(){return Db};Y.get_video=function(){return Eb};Y.get_cv=function(){return Ua.La()};Y.set_color=function(a){G.I("s56",[{type:"3f",name:"u41",value:a}])};
Y.init=function(a){var c=Hb(),d=a.callbackReady?a.callbackReady:function(n){console.log("ERR:",n)},h=a.callbackReady?a.callbackReady.bind(null,!1):!1;if(a.canvasId||a.canvas){var r=a.canvas?a.canvas:document.getElementById(a.canvasId);if(r)if(Y.initialized)d("ALREADY_INITIALIZED");else{Y.initialized=!0;window.eb=d?function(n){d(n);window.eb=!1}:!1;a.NNCPath&&(b.bc=a.NNCPath);"undefined"!==typeof a.NNC&&(Fb="string"===typeof a.NNC?JSON.parse(a.NNC):a.NNC);h&&Y.ia.push(h);if(!Ua.s({ob:r,width:b.width,
height:b.height,debug:!1,Bb:!1,Wc:function(){Y.gb&&Y.gb()},premultipliedAlpha:!1}))return d("GL_INCOMPATIBLE"),!1;Y.Aa=Ua.La();Y.Ba||(Y.Aa.style.display="none");a.videoSettings&&a.videoSettings.videoElement?c.Qc(a.videoSettings.videoElement,!1):(a.videoSettings&&Object.assign(Cb,a.videoSettings),c.Ld(function(n){c.Qc(n,!1)}));return!0}else d("INVALID_CANVAS")}else d("NO_CANVASID")};window.JEELIZFACEEXPRESSIONS=Y;
;return JEELIZFACEEXPRESSIONS||window.JEELIZFACEEXPRESSIONS;})();